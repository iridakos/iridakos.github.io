<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="ocs-site-verification" content="e5faa08e01247c38aadf1c1737ff8136">
  <meta name="google-site-verification" content="KqOxy0ecDlfNdfO530ZAbtNBedy49hn2KziyqLK0JGo" />

  <title>Testing execution of filters with RSpec</title>

  <link href="https://fonts.googleapis.com/css?family=Indie+Flower|Open+Sans:400,600,700&amp;subset=greek" rel="stylesheet">

  <link rel="icon" href="/assets/images/favicon.ico?v=4" type="image/x-icon">
  <link rel="stylesheet" href="/css/main.css?1587811322151631422">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="alternate" type="application/rss+xml" title="iridakos" href="https://iridakos.com/feed.xml">
  <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Testing execution of filters with RSpec" />
<meta name="author" content="Lazarus Lazaridis" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How to test the execution of controller filters with RSpec." />
<meta property="og:description" content="How to test the execution of controller filters with RSpec." />
<link rel="canonical" href="https://iridakos.com/programming/2014/10/14/testing-execution-of-filters-with-rspec" />
<meta property="og:url" content="https://iridakos.com/programming/2014/10/14/testing-execution-of-filters-with-rspec" />
<meta property="og:site_name" content="iridakos" />
<meta property="og:image" content="https://iridakos.com/assets/images/site.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-10-14T10:00:00+03:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://iridakos.com/assets/images/site.png" />
<meta property="twitter:title" content="Testing execution of filters with RSpec" />
<meta name="twitter:site" content="@lazaru_s" />
<meta name="twitter:creator" content="@Lazarus Lazaridis" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://iridakos.com/programming/2014/10/14/testing-execution-of-filters-with-rspec"},"author":{"@type":"Person","name":"Lazarus Lazaridis"},"description":"How to test the execution of controller filters with RSpec.","@type":"BlogPosting","headline":"Testing execution of filters with RSpec","dateModified":"2014-10-14T10:00:00+03:00","datePublished":"2014-10-14T10:00:00+03:00","image":"https://iridakos.com/assets/images/site.png","url":"https://iridakos.com/programming/2014/10/14/testing-execution-of-filters-with-rspec","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://iridakos.com/assets/images/site.png"},"name":"Lazarus Lazaridis"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

  <body>
    <nav class="navbar navbar-expand-lg iridakos-navbar navbar-dark bg-dark">
  <div class="container-fluid no-gutters">
    

    <a class="mr-3 blog-logo-container" href="/" alt="home">
      <img class="blog-logo" src="/assets/images/irida-faded.png">
    </a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#header-pages" aria-controls="header-pages" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="header-pages">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        

        <li class="nav-item dropdown active">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            programming
          </a>

          <div class="dropdown-menu" aria-labelledby="more">
            <a class="dropdown-item" href="/programming/">all posts</a>
            <a class="dropdown-item" href="/programming/featured/">featured posts</a>
            <a class="dropdown-item" href="/programming/tutorials/">tutorials</a>
            <a class="dropdown-item" href="/programming/how-to/">how to</a>
            <a class="dropdown-item" href="/programming/code/">code</a>
            <hr class="dropdown-divider">
            <a class="dropdown-item" href="/programming/humor/">humor</a>
          </div>
        </li>

        

        <li class="nav-item ">
            <a class="nav-link" href="/cats/" alt="cats">cats</a>
        </li>

        

        <li class="nav-item ">
            <a class="nav-link" href="/painting/" alt="painting">painting</a>
        </li>

        

        <li class="nav-item ">
            <a class="nav-link" href="/tags/" alt="tags">tags</a>
        </li>

        

        <li class="nav-item ">
            <a class="nav-link" href="/about/" alt="about">about me</a>
        </li>
      </ul>

      <ul class="navbar-nav mr-0 mt-2 mt-lg-0">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-language"></i>
            English
          </a>

          <div class="dropdown-menu" aria-labelledby="more">
            
            <a class="dropdown-item" href="/el/">Ελληνικά</a>
          </div>
        </li>
      </ul>

      <form class="form-inline my-2 my-lg-0" method="get" action="/search">
        <div class="input-group input-group-sm mr-sm-2">
          <input class="form-control" name="query" type="search" placeholder="Search the blog">

          <div class="input-group-append">
            <button class="btn btn-warning" type="submit">
              <i class="fa fa-search"></i>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</nav>

<div class="header-container">
  <div class="page-title-container">
    <div class="container-fluid no-gutters">
      <div class="page-title">
        <div class="row align-items-center">
          <div class="col-xs-12 col-md-8 col-lg-9 order-md-first order-last text-center text-md-left">
            <h1>Testing execution of filters with RSpec</h1>

              <div class="page-subtitle">
              How to test the execution of controller filters with RSpec.

              
                <div class="post">
                  <div class="post-metadata">
                    <div class="post-date" title="published on">
                      Published on <span class="important">Oct 14, 2014</span>
                    </div>

                    <div class="post-category" title="in category">
                      in category <span class="important">programming</span>
                    </div>
                  </div>

                  
                  
                    <div class="post-tags">
                      <span class="important">tags:</span>
                      
                        <a href="/tags/?tag=rspec">rspec</a> - 
                      
                        <a href="/tags/?tag=rails">rails</a> - 
                      
                        <a href="/tags/?tag=ruby">ruby</a> - 
                      
                        <a href="/tags/?tag=controllers">controllers</a> - 
                      
                        <a href="/tags/?tag=mvc">mvc</a> - 
                      
                        <a href="/tags/?tag=testing">testing</a> - 
                      
                        <a href="/tags/?tag=how-to">how-to</a>
                      
                    </div>
                  

                  
                  
                  
                </div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>





    <div class="container-fluid no-gutters">
      <div class="row">
        <div class="col-xs-12 col-md-8 col-lg-9 page-content">
          
            <div class="row">
              <div class="col-12">
                <div class="outline mb-3">
                  <p><strong>UPDATE</strong>: I created a gem to cover the functionality of this post. Visit its homepage <a href="https://github.com/iridakos/rspec-matchers-controller_filters">here</a>.</p>

<p>I was working on my application and I wanted to write some RSpec tests for some controllers having <code class="highlighter-rouge">before_filter</code> for some actions.</p>

<p>I didn’t want to explicitly test the behaviour of the filter since it was already tested in another context. I only wanted to test that it is being executed.</p>

<p>Let’s assume that this is our controller:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">FooController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="n">before_filter</span> <span class="ss">:first_filter</span>
  <span class="n">before_filter</span> <span class="ss">:second_filter</span><span class="p">,</span> <span class="ss">:only</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="ss">:edit</span><span class="p">,</span> <span class="ss">:update</span><span class="p">]</span>

  <span class="k">def</span> <span class="nf">index</span>
    <span class="c1"># some code</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">edit</span>
    <span class="c1">#some code</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">update</span>
    <span class="c1"># some code</span>
  <span class="k">end</span>

  <span class="kp">protected</span>

  <span class="k">def</span> <span class="nf">first_filter</span>
    <span class="c1"># do something</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">second_filter</span>
    <span class="c1"># do something</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>So, we can write the following custom matcher (I placed it under <code class="highlighter-rouge">spec/support/matchers/filters.rb</code>):</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">RSpec</span><span class="o">::</span><span class="no">Matchers</span><span class="p">.</span><span class="nf">define</span> <span class="ss">:execute_before_filter</span> <span class="k">do</span> <span class="o">|</span><span class="n">filter_name</span><span class="p">,</span> <span class="n">options</span><span class="o">|</span>
  <span class="n">match</span> <span class="k">do</span> <span class="o">|</span><span class="n">controller</span><span class="o">|</span>
    <span class="n">controller</span><span class="p">.</span><span class="nf">stubs</span><span class="p">(</span><span class="n">filter_name</span><span class="p">).</span><span class="nf">raises</span><span class="p">(</span><span class="no">StandardError</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"Filter executed: </span><span class="si">#{</span><span class="n">filter_name</span><span class="si">}</span><span class="s2">"</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="ss">:stub_filters</span><span class="p">]</span>
      <span class="n">options</span><span class="p">[</span><span class="ss">:stub_filters</span><span class="p">].</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">filter</span><span class="o">|</span>
        <span class="n">controller</span><span class="p">.</span><span class="nf">stubs</span><span class="p">(</span><span class="n">filter</span><span class="p">).</span><span class="nf">returns</span><span class="p">(</span><span class="kp">true</span><span class="p">)</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="n">result</span> <span class="o">=</span> <span class="k">begin</span>
      <span class="nb">send</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="ss">:via</span><span class="p">],</span> <span class="n">options</span><span class="p">[</span><span class="ss">:on</span><span class="p">],</span> <span class="n">options</span><span class="p">[</span><span class="ss">:with</span><span class="p">])</span>
      <span class="kp">false</span>
    <span class="k">rescue</span> <span class="no">StandardError</span> <span class="o">=&gt;</span> <span class="n">e</span>
      <span class="n">e</span><span class="p">.</span><span class="nf">message</span> <span class="o">==</span> <span class="s2">"Filter executed: </span><span class="si">#{</span><span class="n">filter_name</span><span class="si">}</span><span class="s2">"</span>
    <span class="k">rescue</span>
      <span class="kp">false</span>
    <span class="k">end</span>
    <span class="n">result</span>
  <span class="k">end</span>

  <span class="n">failure_message</span> <span class="k">do</span> <span class="o">|</span><span class="n">actual</span><span class="o">|</span>
    <span class="n">filter</span> <span class="o">=</span> <span class="n">expected</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">expected</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:on</span><span class="p">]</span>
    <span class="n">with</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:via</span><span class="p">]</span>
    <span class="n">params</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:with</span><span class="p">]</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s2">"expected </span><span class="si">#{</span><span class="n">actual</span><span class="p">.</span><span class="nf">class</span><span class="si">}</span><span class="s2"> to execute filter </span><span class="si">#{</span><span class="n">filter</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">message</span> <span class="o">&lt;&lt;</span> <span class="s2">" before action </span><span class="si">#{</span><span class="n">action</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">message</span> <span class="o">&lt;&lt;</span> <span class="s2">" [requested via </span><span class="si">#{</span><span class="n">with</span><span class="si">}</span><span class="s2"> with params '</span><span class="si">#{</span><span class="n">params</span><span class="si">}</span><span class="s2">']."</span>
  <span class="k">end</span>

  <span class="n">failure_message_when_negated</span> <span class="k">do</span> <span class="o">|</span><span class="n">actual</span><span class="o">|</span>
    <span class="n">filter</span> <span class="o">=</span> <span class="n">expected</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">expected</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:on</span><span class="p">]</span>
    <span class="n">with</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:via</span><span class="p">]</span>
    <span class="n">params</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:with</span><span class="p">]</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s2">"expected </span><span class="si">#{</span><span class="n">actual</span><span class="p">.</span><span class="nf">class</span><span class="si">}</span><span class="s2"> not to execute filter </span><span class="si">#{</span><span class="n">filter</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">message</span> <span class="o">&lt;&lt;</span> <span class="s2">" before action </span><span class="si">#{</span><span class="n">action</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">message</span> <span class="o">&lt;&lt;</span> <span class="s2">" [requested via </span><span class="si">#{</span><span class="n">with</span><span class="si">}</span><span class="s2"> with params '</span><span class="si">#{</span><span class="n">params</span><span class="si">}</span><span class="s2">']"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>and then in our controller’s spec we test the filter execution with the following code:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'rails_helper'</span>

<span class="no">RSpec</span><span class="p">.</span><span class="nf">describe</span> <span class="no">FooController</span><span class="p">,</span> <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="ss">:controller</span> <span class="k">do</span>

  <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">execute_before_filter</span> <span class="ss">:first_filter</span><span class="p">,</span> <span class="ss">:on</span> <span class="o">=&gt;</span> <span class="ss">:index</span><span class="p">,</span> <span class="ss">:via</span> <span class="o">=&gt;</span> <span class="ss">:get</span> <span class="p">}</span>

  <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">execute_before_filter</span> <span class="ss">:first_filter</span><span class="p">,</span> <span class="ss">:on</span> <span class="o">=&gt;</span> <span class="ss">:edit</span><span class="p">,</span> <span class="ss">:via</span> <span class="o">=&gt;</span> <span class="ss">:get</span><span class="p">,</span> <span class="ss">:with</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'1'</span> <span class="p">}</span> <span class="p">}</span>
  <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">execute_before_filter</span> <span class="ss">:second_filter</span><span class="p">,</span>
                                    <span class="ss">:on</span> <span class="o">=&gt;</span> <span class="ss">:edit</span><span class="p">,</span>
                                    <span class="ss">:via</span> <span class="o">=&gt;</span> <span class="ss">:get</span><span class="p">,</span>
                                    <span class="ss">:with</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'1'</span> <span class="p">},</span>
                                    <span class="ss">:stub_filters</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="ss">:first_filter</span><span class="p">]</span> <span class="p">}</span>

  <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">execute_before_filter</span> <span class="ss">:first_filter</span><span class="p">,</span> <span class="ss">:on</span> <span class="o">=&gt;</span> <span class="ss">:update</span><span class="p">,</span> <span class="ss">:via</span> <span class="o">=&gt;</span> <span class="ss">:put</span><span class="p">,</span> <span class="ss">:with</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">'1'</span> <span class="p">}</span> <span class="p">}</span>
  <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">execute_before_filter</span> <span class="ss">:second_filter</span><span class="p">,</span>
                                    <span class="ss">:on</span> <span class="o">=&gt;</span> <span class="ss">:update</span><span class="p">,</span>
                                    <span class="ss">:via</span> <span class="o">=&gt;</span> <span class="ss">:put</span><span class="p">,</span>
                                    <span class="ss">:with</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="ss">:'1'</span> <span class="p">},</span>
                                    <span class="ss">:stub_filters</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="ss">:first_filter</span><span class="p">]</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre></div></div>

<p>We use the <code class="highlighter-rouge">:ignore_filters</code> to stub possible prepended filters so that in case they brake due to missing stubbings etc, they don’t mess with our test.</p>

<p>If we comment the <code class="highlighter-rouge">before_filter</code> declarations in the <code class="highlighter-rouge">FooController</code> =&gt; tadaaaaa:</p>

<p><img src="https://1.bp.blogspot.com/-bQn2QNa2khs/VE_hB6TVtpI/AAAAAAAAA7Y/vnRKVmXyXJ0/s1600/irida.png" alt="" /></p>

                </div>
              </div>

              <div class="col-12 order-first">
                <div class="d-sm-block d-md-none mb-3">
                  <a class=" btn btn-outline-primary d-block collapsed text-left"
                    title="View the structure of this document"
                    role="button"
                    data-toggle="collapse"
                    data-role="outline"
                    data-content=".outline"
                    href="#docout-mobile"
                    data-target="#docout-mobile"
                    aria-expanded="false"
                    aria-controls="collapse">
                    Table of contents
                    <i class="fa iridakos-collapse pull-right mt-1"></i>
                  </a>

                  <div id="docout-mobile" class="collapse my-3 border rounded bg-light p-2">
                  </div>
                </div>
              </div>
            </div>
          

          <!--googleoff: index-->









<div class="post-navigation">
  <div class="row">
    <div class="col-12 col-md-6 my-3">
      
        <a class="d-block btn btn-warning btn-sm h-100" href="/programming/2014/10/14/rescue-from-memory-leak" title="Rails and rescue from memory leak">
          <strong>
            <i class="fa fa-angle-double-left"></i> previous post
          </strong>

          <hr class="my-1">

          <small>
            Rails and rescue from memory leak
          </small>
        </a>
      
    </div>

    <div class="col-12 col-md-6 my-3">
      
        <a class="d-block btn btn-warning btn-sm h-100" href="/programming/2014/10/14/rails-radio-buttons-required-boolean" title="Rails radio buttons and required boolean attributes">
          <strong>
            next post <i class="fa fa-angle-double-right"></i>
          </strong>

          <hr class="my-1">

          <small>
            Rails radio buttons and required boolean attributes
          </small>
        </a>
      
    </div>
  </div>
</div>


<!--googleon: index-->

          


  
    <div class="alert alert-light related-posts">
      <h4 class="alert-heading"><i class="fa fa-hand-spock-o" aria-hidden="true"></i> My latest post</h4>

      <div class="row mt-3">
        <div class="col">
          <a class="alert-link" href="/programming/2020/04/20/stup-cli-notes"><strong>stup - a CLI tool to save, access and organize standup and other types of daily notes</strong></a>
          <div>
            <small>Introducing a tool for keeping standup and other types of notes in the terminal</small>
          </div>
        </div>
      </div>
    </div>
  


          
<div class="alert alert-light related-posts">
  <h4 class="alert-heading"><i class="fa fa-hand-o-right" aria-hidden="true"></i> Related posts</h4>

  

  <ul class="list-unstyled">
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <li>
          <a class="alert-link" href="/programming/2014/10/14/rails-radio-buttons-required-boolean"><strong>Rails radio buttons and required boolean attributes</strong></a>
          <div>
            <small>How to deal with required boolean attributes and radio buttons in Ruby on Rails.</small>
          </div>
        </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <li>
          <a class="alert-link" href="/programming/2014/10/14/rescue-from-memory-leak"><strong>Rails and rescue from memory leak</strong></a>
          <div>
            <small>A story of finding a memory leak in a Ruby on Rails application.</small>
          </div>
        </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
  </ul>
</div>


          
<div class="share-links">
  <a class="btn btn-warning" href="https://twitter.com/intent/tweet?text=Testing execution of filters with RSpec&url=https://iridakos.com/programming/2014/10/14/testing-execution-of-filters-with-rspec" rel="nofollow" target="_blank" title="Share on Twitter"><i class="fa fa-twitter"></i></a>
  <a class="btn btn-warning" href="https://facebook.com/sharer.php?u=https://iridakos.com/programming/2014/10/14/testing-execution-of-filters-with-rspec" rel="nofollow" target="_blank" title="Share on Facebook"><i class="fa fa-facebook"></i></a>
  <a class="btn btn-warning" href="https://www.reddit.com/submit" onclick="window.location = 'https://www.reddit.com/submit?url=' + encodeURIComponent(window.location); return false" title="Share on Reddit"><i class="fa fa-reddit"></i></a>
  <a class="btn btn-warning" href="mailto:?subject=Testing execution of filters with RSpec&amp;body=Testing execution of filters with RSpec: https://iridakos.com/programming/2014/10/14/testing-execution-of-filters-with-rspec"><i class="fa fa-envelope-o" title="Share with email"></i></a>
</div>

<div class="subscribe-links">
  <button class="btn btn-warning btn-sm dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <i class="fa fa-rss"></i> Subscribe via RSS
  </button>

  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item" href="/feed.xml">all posts</a>
    <div role="separator" class="dropdown-divider"></div>
    <a class="dropdown-item" href="/feeds/programming.xml">all programming related posts</a>
    <a class="dropdown-item" href="/feeds/tutorials.xml">programming tutorials posts</a>
    <a class="dropdown-item" href="/feeds/opensource.xml">opensource related posts</a>
    <a class="dropdown-item" href="/feeds/ruby.xml">ruby and rails related posts</a>
    <div role="separator" class="dropdown-divider"></div>
    <a class="dropdown-item" href="/feeds/programming-humor.xml">programming humor</a>
    <div role="separator" class="dropdown-divider"></div>
    <a class="dropdown-item" href="/feeds/painting.xml">painting posts</a>
    <div role="separator" class="dropdown-divider"></div>
    <a class="dropdown-item" href="/feeds/cats.xml">cat photos</a>
  </div>
</div>



        </div>

        <div class="col">
          <div class="alert alert-primary">
            <p>
              I just released <a href="https://github.com/iridakos/stup" target="_blank">stup</a>, an opensource CLI tool to save, access and organize standup and other types of daily notes.
            </p>

            <p>
              <a href="https://github.com/iridakos/stup" target="_blank">
                <img src="/assets/images/posts/stup-cli-notes/post-image.png" class="w-100">
              </a>
            </p>

            <p>
              <a href="https://github.com/iridakos/stup" target="_blank">
                <i class="fa fa-github"></i>
                <span>View it on GitHub</span>
              </a>
            </p>
          </div>

          <div class="sidebar">
  
    <div class="alert alert-primary d-none d-md-block">
      <div class="sidebar-section">
        <a class="btn btn-warning d-block collapsed text-left"
          data-toggle="collapse"
          data-role="outline"
          data-content=".outline"
          href="#docout-sidebar"
          data-target="#docout-sidebar"

          title="View the structure of this document"
          role="button"
          href="#docout-sidebar"
          aria-expanded="false"
          aria-controls="collapse">
          Table of contents
          <i class="fa iridakos-collapse pull-right mt-1"></i>
        </a>

        <div class="section-content">
          <div id="docout-sidebar" class="collapse mt-2 p-2">

          </div>
        </div>
      </div>
    </div>
  

  

  <div class="alert alert-primary">
  <div class="sidebar-section">
    <div class="section-title">
      <h4><i class="fa fa-hand-spock-o"></i> featured posts</h4>
    </div>

    <div class="section-content">
      
      
        
          <div class="section-item">
            <div class="float-right ml-1">
              
                <span class="featured-hacker-news" title="Featured in Hacker News" data-toggle="tooltip"><i class="fa fa-hacker-news"></i></span>
              
                <span class="featured-opensource-com" title="Featured in opensource.com" data-toggle="tooltip"><i class="fa fa-linux"></i></span>
              
                <span class="featured-hackernewsletter" title="Featured in hackernewsletter" data-toggle="tooltip"><i class="fa fa-envelope"></i></span>
              
            </div>
            <a href="/programming/2018/03/01/bash-programmable-completion-tutorial">Creating a bash completion script</a>
             <div class="text-muted smaller">
               A tutorial for adding tab completion to your scripts using the Bash Programmable Completion functionality.
             </div>
          </div>
        
      
        
          <div class="section-item">
            <div class="float-right ml-1">
              
                <span class="featured-hacker-news" title="Featured in Hacker News" data-toggle="tooltip"><i class="fa fa-hacker-news"></i></span>
              
                <span class="featured-ruby-weekly" title="Featured in Ruby Weekly" data-toggle="tooltip"><i class="fa fa-diamond"></i></span>
              
                <span class="featured-opensource-com" title="Featured in opensource.com" data-toggle="tooltip"><i class="fa fa-linux"></i></span>
              
            </div>
            <a href="/programming/2018/01/25/creating-a-gtk-todo-application-with-ruby">Creating a Linux Desktop application with Ruby</a>
             <div class="text-muted smaller">
               A tutorial for creating a simple GTK ToDo application with Ruby
             </div>
          </div>
        
      
        
          <div class="section-item">
            <div class="float-right ml-1">
              
                <span class="featured-farnam-street" title="Featured in Farnam Street" data-toggle="tooltip">fs <i class="fa fa-envelope"></i></span>
              
                <span class="featured-hacker-news" title="Featured in Hacker News" data-toggle="tooltip"><i class="fa fa-hacker-news"></i></span>
              
                <span class="featured-betterldevlink" title="Featured in Better Dev Link" data-toggle="tooltip"><i class="fa fa-envelope"></i></span>
              
            </div>
            <a href="/programming/2019/06/26/composing-better-emails">How to write better emails</a>
             <div class="text-muted smaller">
               Tips for composing effective emails avoiding misunderstandings with examples from the software development world.
             </div>
          </div>
        
      
        
          <div class="section-item">
            <div class="float-right ml-1">
              
                <span class="featured-hacker-news" title="Featured in Hacker News" data-toggle="tooltip"><i class="fa fa-hacker-news"></i></span>
              
                <span class="featured-hackernewsletter" title="Featured in hackernewsletter" data-toggle="tooltip"><i class="fa fa-envelope"></i></span>
              
                <span class="featured-opensource-com" title="Featured in opensource.com" data-toggle="tooltip"><i class="fa fa-linux"></i></span>
              
            </div>
            <a href="/programming/2019/05/16/remove-duplicate-lines-preserving-order-linux">How to remove duplicate lines from files preserving their order</a>
             <div class="text-muted smaller">
               How to remove duplicate lines of a file in Linux without sorting or changing their order (awk one-liner explained).
             </div>
          </div>
        
      
        
          <div class="section-item">
            <div class="float-right ml-1">
              
                <span class="featured-ruby-weekly" title="Featured in Ruby Weekly" data-toggle="tooltip"><i class="fa fa-diamond"></i></span>
              
            </div>
            <a href="/programming/2016/04/01/duckrails-guide">DuckRails - Open source development tool for mocking API endpoints</a>
             <div class="text-muted smaller">
               An introduction and a guide for installing and using DuckRails, a development tool for mocking API endpoints easily and dynamically. Docker image available.
             </div>
          </div>
        
      

      <div class="section-item">
        <a href="/programming/featured">View all featured posts</a>
      </div>
    </div>
  </div>
</div>


  
<div class="alert alert-primary">
  <div class="sidebar-section">
    <div class="section-title">
      <h4><i class="fa fa-bullhorn"></i> recent posts</h4>
    </div>

    

    <div class="section-content">
      
          <div class="section-item">
            <a href="/programming/2020/04/20/stup-cli-notes">stup - a CLI tool to save, access and organize standup and other types of daily notes</a>
            <div class="text-muted smaller">Introducing a tool for keeping standup and other types of notes in the terminal</div>
          </div>
      
          <div class="section-item">
            <a href="/programming/2020/02/06/shell-palindrome-dates">Find palindrome dates in the Linux command line - explained</a>
            <div class="text-muted smaller">Explaining how to find palindrome dates using a shell command in Linux</div>
          </div>
      
          <div class="section-item">
            <a href="/cats/2020/01/23/goodbye-irida">Goodbye Irida</a>
            <div class="text-muted smaller">A goodbye to my beloved cat</div>
          </div>
      
    </div>
  </div>
</div>



  <div class="alert alert-primary">
  <div class="sidebar-section">
    <div class="section-title">
      <h4>
        <i class="fa fa-github"></i> code
      </h4>

      <div class="float-right">

      </div>
    </div>

    <div class="section-content">
      <div class="section-item">
        <a href="https://github.com/iridakos/goto">goto</a>: a tool for navigating to aliased directories in the shell with auto complete
      </div>

      <div class="section-item">
        <a href="https://github.com/iridakos/elman">elman</a>: a script for full text searching Linux man pages with Elasticsearch
      </div>

      <div class="section-item">
        <a href="https://github.com/iridakos/duckrails">DuckRails</a>
        version <span class="important">2.1.5</span> is out <img src="/assets/images/news/duckrails.png" class="logo" /> (<a href="https://github.com/iridakos/duckrails/wiki/Setup-DuckRails-via-Docker" target="_blank">docker image available</a>)
      </div>
    </div>
  </div>
</div>


  


  
    <div class="alert alert-primary d-none d-md-block">
      <div class="sidebar-section">
        <div class="section-content mt-2">
          
<div class="share-links">
  <a class="btn btn-warning" href="https://twitter.com/intent/tweet?text=Testing execution of filters with RSpec&url=https://iridakos.com/programming/2014/10/14/testing-execution-of-filters-with-rspec" rel="nofollow" target="_blank" title="Share on Twitter"><i class="fa fa-twitter"></i></a>
  <a class="btn btn-warning" href="https://facebook.com/sharer.php?u=https://iridakos.com/programming/2014/10/14/testing-execution-of-filters-with-rspec" rel="nofollow" target="_blank" title="Share on Facebook"><i class="fa fa-facebook"></i></a>
  <a class="btn btn-warning" href="https://www.reddit.com/submit" onclick="window.location = 'https://www.reddit.com/submit?url=' + encodeURIComponent(window.location); return false" title="Share on Reddit"><i class="fa fa-reddit"></i></a>
  <a class="btn btn-warning" href="mailto:?subject=Testing execution of filters with RSpec&amp;body=Testing execution of filters with RSpec: https://iridakos.com/programming/2014/10/14/testing-execution-of-filters-with-rspec"><i class="fa fa-envelope-o" title="Share with email"></i></a>
</div>

<div class="subscribe-links">
  <button class="btn btn-warning btn-sm dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <i class="fa fa-rss"></i> Subscribe via RSS
  </button>

  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item" href="/feed.xml">all posts</a>
    <div role="separator" class="dropdown-divider"></div>
    <a class="dropdown-item" href="/feeds/programming.xml">all programming related posts</a>
    <a class="dropdown-item" href="/feeds/tutorials.xml">programming tutorials posts</a>
    <a class="dropdown-item" href="/feeds/opensource.xml">opensource related posts</a>
    <a class="dropdown-item" href="/feeds/ruby.xml">ruby and rails related posts</a>
    <div role="separator" class="dropdown-divider"></div>
    <a class="dropdown-item" href="/feeds/programming-humor.xml">programming humor</a>
    <div role="separator" class="dropdown-divider"></div>
    <a class="dropdown-item" href="/feeds/painting.xml">painting posts</a>
    <div role="separator" class="dropdown-divider"></div>
    <a class="dropdown-item" href="/feeds/cats.xml">cat photos</a>
  </div>
</div>

        </div>
      </div>
    </div>
  
</div>

        </div>
      </div>
    </div>


    <div class="modal fade" id="image-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">iridakos images preview</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div class="modal-body text-center">
                <div class="image-container">
                    <img class="image" />
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

    <footer class="footer">
  <div class="container-fluid no-gutters">
    <div class="row justify-content-center">
      <div class="col-12 col-md-6">
        <div class="brand mb-1">
          <a href="https://iridakos.com">iridakos</a>
        </div>

        <div class="contact-links">
          <a class="btn btn-warning mr-1" href="https://www.github.com/iridakos/"><i class="fa fa-github" aria-hidden="true"></i></a>
          <a class="btn btn-warning mr-1" href="https://www.twitter.com/lazaru_s/"><i class="fa fa-twitter" aria-hidden="true"></i></a>
          <a class="btn btn-warning mr-1" href="https://www.linkedin.com/in/iridakos/"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
        </div>

        <div class="license mt-1">
          <div class="mb-1">
            <a class="" rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="/assets/images/license.png" /></a>
          </div>

          <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">iridakos</span> by
          <a xmlns:cc="http://creativecommons.org/ns#" href="https://iridakos.com/about/" property="cc:attributionName" rel="cc:attributionURL" class="">Lazarus Lazaridis</a> is licensed under a <a class="" rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.
        </div>
      </div>
    </div>
  </div>
</footer>

    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="/assets/javascripts/bootstrap.min.js?1587811322151631422" type="text/javascript"></script>
<script src="/assets/javascripts/docout.js?1587811322151631422" type="text/javascript"></script>
<script src="/assets/javascripts/iridakos.js?1587811322151631422" type="text/javascript"></script>
<script src="/assets/javascripts/search.js?1587811322151631422" type="text/javascript"></script>




  </body>
</html>
