<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>iridakos</title>
    <description>Lazarus Lazaridis' personal blog with posts mostly related to programming and opensource. And cats.</description>
    <link>https://iridakos.com/</link>
    <image>
      <url>https://iridakos.com/assets/images/site.png</url>
      <link>https://iridakos.com/</link>
      <title>iridakos</title>
    </image>
    <atom:link href="https://iridakos.com/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 13 Nov 2019 09:49:00 +0200</pubDate>
    <lastBuildDate>Wed, 13 Nov 2019 09:49:00 +0200</lastBuildDate>
    <generator>Jekyll v3.8.6</generator>

    

    
      <item>
        <title>Bash: Προσθέτοντας tab συμπλήρωση στα script</title>
        <description>&lt;p&gt;Πρόσφατα χρειάστηκε να προσθέσω tab συμπλήρωση σε ένα &lt;a class=&quot;ga-event-link&quot; data-event-category=&quot;From post to Github&quot; data-event-action=&quot;click&quot; data-event-label=&quot;goto from Bash completion post&quot; href=&quot;https://github.com/iridakos/goto&quot;&gt;script μου&lt;/a&gt; και βρήκα τη λειτουργικότητα πολύ ενδιαφέρουσα.&lt;/p&gt;

&lt;p&gt;&lt;a class=&quot;ga-event-link&quot; data-event-category=&quot;From post to Github&quot; data-event-action=&quot;click&quot; data-event-label=&quot;goto from Bash completion post&quot; href=&quot;https://github.com/iridakos/goto&quot;&gt;
  &lt;img class=&quot;no-maximize&quot; src=&quot;https://github.com/iridakos/goto/raw/master/doc/goto.gif&quot; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Σε αυτό το άρθρο θα εξοικειωθείτε με τη διαδικασία προσθήκης tab συμπλήρωσης στα script σας στη γραμμή εντολών του Bash.&lt;/p&gt;

&lt;h2 id=&quot;τι-είναι-η-tab-συμπλήρωση-bash-completion&quot;&gt;Τι είναι η tab συμπλήρωση (bash completion);&lt;/h2&gt;

&lt;p&gt;Η tab συμπλήρωση είναι μια λειτουργικότητα μέσω της οποίας το Bash επιτρέπει στους χρήστες να πληκτρολογήσουν τις εντολές τους πιο εύκολα και γρήγορα. Αυτό το πετυχαίνει με το να παρουσιάζει πιθανές επιλογές ως συνέχεια της εντολής όταν οι χρήστες πατούν το &lt;code class=&quot;highlighter-rouge&quot;&gt;tab&lt;/code&gt; πλήκτρο καθώς την γράφουν.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git&amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;
git                 git-receive-pack    git-upload-archive  
gitk                git-shell           git-upload-pack     
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git-s&amp;lt;tab&amp;gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git-shell
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;πως-δουλεύει&quot;&gt;Πως δουλεύει;&lt;/h3&gt;

&lt;p&gt;Το script συμπλήρωσης είναι κώδικας που χρησιμοποιεί την συστημική bash εντολή &lt;code class=&quot;highlighter-rouge&quot;&gt;complete&lt;/code&gt; για να ορίσει &lt;strong&gt;ποιες προτάσεις συμπλήρωσης&lt;/strong&gt; θα εμφανιστούν για ένα δεδομένο &lt;strong&gt;εκτελέσιμο&lt;/strong&gt; πρόγραμμα.
Η φύση των προτάσεων αυτών ποικίλει από απλές στατικές έως περίπλοκες και δυναμικές επιλογές.&lt;/p&gt;

&lt;h3 id=&quot;γιατί-να-ασχοληθώ&quot;&gt;Γιατί να ασχοληθώ;&lt;/h3&gt;

&lt;p&gt;Είναι καλό να παρέχεται αυτή η λειτουργικότητα στους χρήστες των script:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;για να διευκολύνεται η πληκτρολόγηση κειμένου όταν μπορεί να συμπληρωθεί αυτόματα&lt;/li&gt;
  &lt;li&gt;για να μπορούν να βλέπουν ποιες είναι οι πιθανές συνέχειες στις εντολές που πληκτρολογούν και&lt;/li&gt;
  &lt;li&gt;για την αποφυγή λαθών και για την βελτίωση της εμπειρίας τους κρύβοντας τις μη διαθέσιμες και εμφανίζοντας τις διαθέσιμες επιλογές βάσει του τι έχουν ήδη πληκτρολογήσει&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ας-ξεκινήσουμε&quot;&gt;Ας ξεκινήσουμε&lt;/h2&gt;

&lt;p&gt;Να τι θα κάνουμε σε αυτό το βοήθημα.&lt;/p&gt;

&lt;p&gt;Αρχικά, θα δημιουργήσουμε ένα πολύ απλό εκτελέσιμο script που θα το πούμε &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt;. Αυτό θα είναι το script που στη συνέχεια θα προσθέσουμε τη λειτουργικότητα για την tab συμπλήρωση.
Το μόνο που θα κάνει το script είναι να εκτελεί την εντολή που βρίσκεται σε μια συγκεκριμένη θέση στο ιστορικό των εντολών του χρήστη. Τη θέση της εντολής στο ιστορικό θα την δέχεται σαν παράμετρο κατά την εκτέλεση. Για παράδειγμα, η παρακάτω εντολή θα εκτελέσει την εντολή &lt;code class=&quot;highlighter-rouge&quot;&gt;ls -a&lt;/code&gt; δεδομένου ότι η τελευταία βρικεται στη θέση &lt;code class=&quot;highlighter-rouge&quot;&gt;235&lt;/code&gt; στο ιστορικό εντολών του χρήστη:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dothis 235
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Στη συνέχεια θα δημιουργήσουμε το script tab συμπλήρωσης που θα εμφανίζει τις εντολές μαζί με τη θέση τους, από το &lt;code class=&quot;highlighter-rouge&quot;&gt;ιστορικό εντολών του χρήστη&lt;/code&gt; και τέλος θα το συνδέσουμε με το πρόγραμμα &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; που προανέφερα.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis &amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;
215 &lt;span class=&quot;nb&quot;&gt;ls
&lt;/span&gt;216 &lt;span class=&quot;nb&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-la&lt;/span&gt;
217 &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~
218 man &lt;span class=&quot;nb&quot;&gt;history
&lt;/span&gt;219 git status
220 &lt;span class=&quot;nb&quot;&gt;history&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; 8-
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/bash-completion/bash-completion-tutorial.gif&quot; alt=&quot;Επίδειξη της tab συμπλήρωσης&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Συγκεντρωθείτε &lt;code class=&quot;highlighter-rouge&quot;&gt;bash&lt;/code&gt; και τα καταφέρουμε με την πρώτη.&lt;/p&gt;

&lt;h3 id=&quot;δημιουργία-του-εκτελέσιμου-προγράμματος&quot;&gt;Δημιουργία του εκτελέσιμου προγράμματος&lt;/h3&gt;

&lt;p&gt;Δημιουργήστε ένα αρχείο με το όνομα &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; στο φάκελο που επιθυμείτε και προσθέστε τον παρακάτω κώδικα:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-z&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;No command number passed&quot;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;2
&lt;span class=&quot;k&quot;&gt;fi

&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-1000&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; ^&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; 2&amp;gt;/dev/null&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else
  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Command with number &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; was not found in recent history&quot;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;2
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Σημειώσεις:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Πρώτα ελέγχουμε αν το πρόγραμμα κλήθηκε με παράμετρο&lt;/li&gt;
  &lt;li&gt;Στη συνέχεια ελέγχουμε αν ο συγκεκριμένος αριθμός αντιστοιχεί σε κάποια από τις τελευταίες 1000 εντολές του ιστορικού του χρήστη.
    &lt;ul&gt;
      &lt;li&gt;αν ναι τότε την εκτελούμε με χρήση της εντολής &lt;code class=&quot;highlighter-rouge&quot;&gt;fc&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;διαφορετικά εμφανίζουμε ένα μήνυμα λάθους&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Μετατρέψτε το script σε εκτελέσιμο με την παρακάτω εντολή:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt; +x ./dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Θα εκτελούμε συχνά αυτό το script σε αυτό το βοήθημα οπότε συνιστώ να το μεταφέρετε σε ένα φάκελο που ανήκει στην μεταβλήτη &lt;a href=&quot;http://www.linfo.org/path_env_var.html&quot;&gt;PATH&lt;/a&gt; του περιβάλλοντός σας ωτε να μπορούμε να το προσπελάσουμε από παντού απλά πληκτρολογώντας &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Το δικό μου το έβαλα στο &lt;code class=&quot;highlighter-rouge&quot;&gt;home bin&lt;/code&gt; πληκτρολογώντας:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; ./dothis ~/bin/dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Μπορείτε να κάνετε το ίδιο δεδομένου ότι έχετε φάκελο &lt;code class=&quot;highlighter-rouge&quot;&gt;~/bin&lt;/code&gt; ο οποίος εμπεριέχεται στην &lt;code class=&quot;highlighter-rouge&quot;&gt;PATH&lt;/code&gt; μεταβλητή σας.&lt;/p&gt;

&lt;p&gt;Δοκιμάστε να δείτε ότι δουλέυει:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Θα έπρεπε να δείτε αυτό:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis
No &lt;span class=&quot;nb&quot;&gt;command &lt;/span&gt;number passed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Done.&lt;/p&gt;

&lt;h3 id=&quot;δημιουργία-του-script-tab-συμπλήρωσης&quot;&gt;Δημιουργία του script tab συμπλήρωσης&lt;/h3&gt;

&lt;p&gt;Δημιουργήστε ένα αρχείο με όνομα &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis-completion.bash&lt;/code&gt;. Από εδώ και στο εξής θα αναφέρομαι στο αρχείο αυτό με τον όρο &lt;strong&gt;script συμπλήρωσης&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Αφού του προσθέσουμε κώδικα, θα εκτελέσουμε την εντολή &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; για να το “ενεργοποιήσουμε”.
Θα εκτελούμε την &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; σε αυτό το αρχείο &lt;strong&gt;κάθε φορά που αλλάζουμε το περιεχόμενό του ώστε να ισχύουν οι αλλαγές&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Θα συζητήσουμε επιλογές ώστε να να γίνεται η ενεργοποίηση αυτή κάθε φορά που ανοίγει νέα bash κονσόλα &lt;a href=&quot;#καταχώρηση-του-script-tab-συμπλήρωσης&quot;&gt;αργότερα&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;στατική-συμπλήρωση&quot;&gt;Στατική συμπλήρωση&lt;/h4&gt;

&lt;p&gt;Υποθέστε ότι το &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; υποστήριζε μια στατική λίστα από παραμέτρους, για παράδειγμα:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;τώρα&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;αύριο&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ποτέ&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Θα χρησιμοποιήσουμε την εντολή &lt;code class=&quot;highlighter-rouge&quot;&gt;complete&lt;/code&gt; για να καταχωρήσουμε αυτή τη λίστα ως επιλογές για tab συμπλήρωση. (Για να χρησιμοποιήσουμε τη σωστή ορολογία, θα χρησιμοποιήσουμε την εντολή &lt;code class=&quot;highlighter-rouge&quot;&gt;complete&lt;/code&gt; για να ορίσουμε τις προδιαγραφές συμπλήρωσης (&lt;strong&gt;compspec&lt;/strong&gt;) για το πρόγραμμά μας.)&lt;/p&gt;

&lt;p&gt;Προσθέστε αυτά στο script συμπλήρωσης.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#/usr/bin/env bash&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;complete&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;now tomorrow never&quot;&lt;/span&gt; dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Τι κάναμε με τη χρήση της παραπάνω εντολής &lt;code class=&quot;highlighter-rouge&quot;&gt;complete&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;χρησιμοποιήσαμε την επιλογή &lt;code class=&quot;highlighter-rouge&quot;&gt;-W&lt;/code&gt; (&lt;em&gt;wordlist&lt;/em&gt;) για να παρέχουμε τη λίστα που θα χρησιμοποιηθεί για συμπλήρωση&lt;/li&gt;
  &lt;li&gt;ορίσαμε σε ποιο πρόγραμμα αυτή η λίστα θα παρέχεται για tab συμπλήρωση (η τελευταία παράμετρος: &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;“Ενεργοποιήστε” το αρχείο (δεν βρήκα πιο δόκιμο όρο για να περιγράψω τη σημασία της εκτέλεσης της εντολής “source”):&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ./dothis-completion.bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Τώρα προσπαθήστε να πατήσετε το πλήτρο tab δύο φορές όπως παρακάτω:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis &amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;
never     now       tomorrow
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Προσπαθήστε ξανά αφού βάλετε και ένα &lt;code class=&quot;highlighter-rouge&quot;&gt;τ&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis τ&amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;
τώρα
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Μαγικό! Οι επιλογές συμπλήρωσης φιλτράρονται αυτόματα ώστε να εμφανιστούν μόνο αυτές που ξεκινούν από &lt;code class=&quot;highlighter-rouge&quot;&gt;τ&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Σημείωση:&lt;/strong&gt;
The options are not displayed in the order that we defined them in the word list, they are automatically sorted.&lt;/p&gt;

&lt;p&gt;There are a lot of other options to be used instead of the &lt;code class=&quot;highlighter-rouge&quot;&gt;-W&lt;/code&gt; that we used in this section. Most of them produce completions in a fixed manner, meaning that we don’t intervene dynamically to filter their output.&lt;/p&gt;

&lt;p&gt;For example, if we wanted to have directory names as completion words for the &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; program, we would change the complete command to the following:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;complete&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A&lt;/span&gt; directory dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Pressing tab after the &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; program, we would get a list of the directories in the current directory from which we execute the script:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis &amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;
dir1/ dir2/ dir3/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Find the complete list of the available flags &lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/Programmable-Completion-Builtins.html#Programmable-Completion-Builtins&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;dynamic-completion&quot;&gt;Dynamic completion&lt;/h4&gt;

&lt;p&gt;We will be producing the completions of the &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; executable with the following logic:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If user presses the tab key right after the command, we will show the last 50 executed commands along with their numbers in history&lt;/li&gt;
  &lt;li&gt;If user presses the tab key after typing a number that matches more than one commands from history, we will show only those commands along with their numbers in history&lt;/li&gt;
  &lt;li&gt;If user presses the tab key after a number that matches exactly one command in history, we auto-complete the number without appending the command’s literal (if it’s confusing, you will better understand later on, no worries)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let’s start by defining a function that will execute each time user requests completion on a &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; command. Change the completion script to this:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#/usr/bin/env bash&lt;/span&gt;
_dothis_completions&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  COMPREPLY+&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;now&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  COMPREPLY+&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tomorrow&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  COMPREPLY+&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;never&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;complete&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; _dothis_completions dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note the following:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;we used the &lt;code class=&quot;highlighter-rouge&quot;&gt;-F&lt;/code&gt; flag in the complete command defining that the &lt;code class=&quot;highlighter-rouge&quot;&gt;_dothis_completions&lt;/code&gt; is the function that will provide the completions of the &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; executable&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;COMPREPLY&lt;/code&gt; is an array variable used to store the completions - the completion mechanism uses this variable to display its contents as completions&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Now source the script and go for completion:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis &amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;
never now tomorrow
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Perfect. We produce the same completions as in the previous section with the word list. Or not? Try this:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis nev&amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;
never     now       tomorrow
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As you can see, even though we type &lt;strong&gt;nev&lt;/strong&gt; and then we request for completion, the available options are always the same and nothing gets completed automatically. Why is this happening?&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;The contents of the &lt;code class=&quot;highlighter-rouge&quot;&gt;COMPREPLY&lt;/code&gt; variable are always displayed. The function is responsible to add/remove entries from there now.&lt;/li&gt;
  &lt;li&gt;If the &lt;code class=&quot;highlighter-rouge&quot;&gt;COMPREPLY&lt;/code&gt; variable had only one element then that word would be automatically completed in the command. Since current implementation always return the same three words, this will not happen.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Enter &lt;code class=&quot;highlighter-rouge&quot;&gt;compgen&lt;/code&gt;: a builtin command that generates completions supporting most of the options of the &lt;code class=&quot;highlighter-rouge&quot;&gt;complete&lt;/code&gt; command (ex. &lt;code class=&quot;highlighter-rouge&quot;&gt;-W&lt;/code&gt; for word list, &lt;code class=&quot;highlighter-rouge&quot;&gt;-d&lt;/code&gt; for directories) and filtering them based on what already has been typed by the user.&lt;/p&gt;

&lt;p&gt;Don’t worry if you feel confused, everything will become clear later on.&lt;/p&gt;

&lt;p&gt;Type the following in the console to better understand what compgen does:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;compgen&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;now tomorrow never&quot;&lt;/span&gt;
now
tomorrow
never
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;compgen&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;now tomorrow never&quot;&lt;/span&gt; n
now
never
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;compgen&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;now tomorrow never&quot;&lt;/span&gt; t
tomorrow
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So now we can use it but we need to find a way to know what has been typed after the &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; command.
We already have the way. The bash completion facilities provide &lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/Bash-Variables.html#Bash-Variables&quot;&gt;bash variables&lt;/a&gt; related to the completion taking place. Here are the more important ones:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;COMP_WORDS&lt;/code&gt;: an array of all the words typed after the name of the program the &lt;code class=&quot;highlighter-rouge&quot;&gt;compspec&lt;/code&gt; belongs to&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;COMP_CWORD&lt;/code&gt;: an index of the &lt;code class=&quot;highlighter-rouge&quot;&gt;COMP_WORDS&lt;/code&gt; array pointing to the word the current cursor is at - in other words, the index of the word the cursor was when the tab key was pressed&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;COMP_LINE&lt;/code&gt;: the current command line&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To access the word just after the &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; word, we can use the value of &lt;code class=&quot;highlighter-rouge&quot;&gt;COMP_WORDS[1]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Change the completion script again:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#/usr/bin/env bash&lt;/span&gt;
_dothis_completions&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;COMPREPLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;compgen&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;now tomorrow never&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMP_WORDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[1]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;complete&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; _dothis_completions dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Source and there you are:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis
never     now       tomorrow  
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis n
never  now
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now, instead of the &lt;em&gt;now, tomorrow, never&lt;/em&gt; words, we would like to see actual numbers from the command history.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;fc -l&lt;/code&gt; command followed by a negative number &lt;code class=&quot;highlighter-rouge&quot;&gt;-n&lt;/code&gt; displays the last &lt;strong&gt;n&lt;/strong&gt; commands.
So, we will use:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-50&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which lists the last &lt;strong&gt;50&lt;/strong&gt; executed commands along with their numbers. The only manipulation we need to do is replace tabs with spaces in order to be displayed properly from the completion mechanism. &lt;code class=&quot;highlighter-rouge&quot;&gt;sed&lt;/code&gt; to the rescue.&lt;/p&gt;

&lt;p&gt;Change the completion script as follows:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#/usr/bin/env bash&lt;/span&gt;
_dothis_completions&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;COMPREPLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;compgen&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-50&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/\t//'&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMP_WORDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[1]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;complete&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; _dothis_completions dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Source and test in the console:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis &amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;
632 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   649 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   666 &lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; ~/.bash_profile
633 clear                           650 clear                           667 &lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; ~/.bashrc
634 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   651 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   668 clear
635 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   652 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   669 &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; ./dothis ~/bin/dothis
636 clear                           653 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   670 dothis
637 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   654 clear                           671 dothis 6546545646
638 clear                           655 dothis 654                      672 clear
639 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   656 dothis 631                      673 dothis
640 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   657 dothis 150                      674 dothis 651
641 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   658 dothis                          675 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash
642 clear                           659 clear                           676 dothis 651
643 dothis 623  &lt;span class=&quot;nb&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-la&lt;/span&gt;              660 dothis                          677 dothis 659
644 clear                           661 &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; ./dothis ~/bin/dothis   678 clear
645 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   662 dothis                          679 dothis 665
646 clear                           663 &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; ./dothis ~/bin/dothis   680 clear
647 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash   664 dothis                          681 clear
648 clear                           665 &lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not bad.&lt;/p&gt;

&lt;p&gt;We do have a problem though. Try typing a number as you see it in your completion list and the press the &lt;tab&gt; key again.&lt;/tab&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis 623&amp;lt;tab&amp;gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis 623  &lt;span class=&quot;nb&quot;&gt;ls &lt;/span&gt;623  &lt;span class=&quot;nb&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-la&lt;/span&gt;
...
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis 623  &lt;span class=&quot;nb&quot;&gt;ls &lt;/span&gt;623  &lt;span class=&quot;nb&quot;&gt;ls &lt;/span&gt;623  &lt;span class=&quot;nb&quot;&gt;ls &lt;/span&gt;623  &lt;span class=&quot;nb&quot;&gt;ls &lt;/span&gt;623  &lt;span class=&quot;nb&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-la&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is happening because in our completion script, we used the &lt;code class=&quot;highlighter-rouge&quot;&gt;${COMP_WORDS[1]}&lt;/code&gt; to always check the first typed word after the &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; command (the number &lt;code class=&quot;highlighter-rouge&quot;&gt;623&lt;/code&gt; in the above snippet). Hence the completion continues suggesting the same completion again and again while pressing the tab key.&lt;/p&gt;

&lt;p&gt;To fix this, we will not allow any kind of completion to take place if at least one argument has already been typed. We will add a condition in our function checking the size of the aforementioned &lt;code class=&quot;highlighter-rouge&quot;&gt;COMP_WORDS&lt;/code&gt; array.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#/usr/bin/env bash&lt;/span&gt;
_dothis_completions&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMP_WORDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    return
  fi

  &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMPREPLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;compgen&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-50&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/\t//'&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMP_WORDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[1]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;complete&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; _dothis_completions dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Source and retry.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis 623&amp;lt;tab&amp;gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis 623 &lt;span class=&quot;nb&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-la&lt;/span&gt;&amp;lt;tab&amp;gt; &lt;span class=&quot;c&quot;&gt;# SUCCESS: nothing happens here&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There is another thing we don’t like though. We do want to display the numbers along with the corresponding commands to help users decide which one is the desired but when there is only one completion suggestion and gets automatically picked by the completion mechanism, &lt;strong&gt;we shouldn’t append the command literal too&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;In other words, our &lt;code class=&quot;highlighter-rouge&quot;&gt;dothis&lt;/code&gt; executable accepts only a number and we haven’t added any functionality checking or expecting other arguments. When our completion function gives only one result, we should trim the command literal and respond only with the command number.&lt;/p&gt;

&lt;p&gt;To accomplish this, we will keep the response of the &lt;code class=&quot;highlighter-rouge&quot;&gt;compgen&lt;/code&gt; command in an array variable and if its size is &lt;strong&gt;1&lt;/strong&gt; we will trim the one and only element to keep just the number. Otherwise, we’ll let the array as is.&lt;/p&gt;

&lt;p&gt;Change the completion script to this:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#/usr/bin/env bash&lt;/span&gt;
_dothis_completions&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMP_WORDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    return
  fi&lt;/span&gt;

  &lt;span class=&quot;c&quot;&gt;# keep the suggestions in a local variable&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;compgen&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-50&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/\t/ /'&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMP_WORDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[1]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# if there's only one match, we remove the command literal&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# to proceed with the automatic completion of the number&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[0]/%\ */&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;COMPREPLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$number&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# more than one suggestions resolved,&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# respond with the suggestions intact&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;COMPREPLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;complete&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; _dothis_completions dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;καταχώρηση-του-script-tab-συμπλήρωσης&quot;&gt;Καταχώρηση του script tab συμπλήρωσης&lt;/h3&gt;

&lt;p&gt;If you want to enable the completion just for you on your machine, all you have to do is add a line in your &lt;code class=&quot;highlighter-rouge&quot;&gt;.bashrc&lt;/code&gt; file sourcing the script:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; &amp;lt;path-to-your-script&amp;gt;/dothis-completion.bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to enable the completion for all users, you can just copy the script under &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/bash_completion.d/&lt;/code&gt; and it will automatically be loaded by Bash.&lt;/p&gt;

&lt;h3 id=&quot;fine-tuning-the-completion-script&quot;&gt;Fine tuning the completion script&lt;/h3&gt;

&lt;p&gt;Some extra steps for better results :)&lt;/p&gt;

&lt;h4 id=&quot;displaying-each-entry-in-a-new-line&quot;&gt;Displaying each entry in a new line&lt;/h4&gt;

&lt;p&gt;Well, in the bash completion script I was working on, I too had to present suggestions consisting of two parts. I wanted to display the first part with the default color and the second part with a gray color to point out that it was just help text. In this tutorial’s example, it would be nice to present the numbers in the default color but the command literal in another one, less fancy.&lt;/p&gt;

&lt;p&gt;Unfortunately, this is not possible at least for the time being because the completions are displayed as plain text and color directives are not processed (for example: &lt;code class=&quot;highlighter-rouge&quot;&gt;\e[34mBlue&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;What we can do though to improve user experience (or not :D) is to display each entry in a new line. This solution is not that obvious since again we can’t just append a new line character in each &lt;code class=&quot;highlighter-rouge&quot;&gt;COMPREPLY&lt;/code&gt; entry. We will follow a rather &lt;a href=&quot;https://unix.stackexchange.com/questions/166908/is-there-anyway-to-get-compreply-to-be-output-as-a-vertical-list-of-words-instea&quot;&gt;hackish&lt;/a&gt; way and pad suggestion literals to such a width that fills the terminal’s width.&lt;/p&gt;

&lt;p&gt;Enter &lt;code class=&quot;highlighter-rouge&quot;&gt;printf&lt;/code&gt;. If you want to display each suggestion on each own line, change the completion script to the following:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#/usr/bin/env bash&lt;/span&gt;
_dothis_completions&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMP_WORDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    return
  fi

  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;IFS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;$'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;compgen&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-50&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/\t//'&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMP_WORDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[1]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[0]/%\ */&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;COMPREPLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$number&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else
    for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;!suggestions[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
      &lt;/span&gt;suggestions[&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'%*s'&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;-&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$COLUMNS&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;done

    &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMPREPLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;complete&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; _dothis_completions dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Source and test:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dothis &amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;
...
499 &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;dothis-completion.bash                   
500 clear
...       
503 dothis 500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;customizable-behavior&quot;&gt;Customizable behavior&lt;/h4&gt;

&lt;p&gt;In our case, we hard-coded to display the last 50 commands for completion. This is not a good practice. We should first respect what each user might prefer and if he/she hasn’t made any preference then we should default to 50.&lt;/p&gt;

&lt;p&gt;To accomplish that we will check if an environment variable &lt;code class=&quot;highlighter-rouge&quot;&gt;DOTHIS_COMPLETION_COMMANDS_NUMBER&lt;/code&gt; has been set.&lt;/p&gt;

&lt;p&gt;Change the completion script one last time:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#/usr/bin/env bash&lt;/span&gt;
_dothis_completions&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMP_WORDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    return
  fi

  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;commands_number&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;DOTHIS_COMPLETION_COMMANDS_NUMBER&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:-&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;IFS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;$'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;compgen&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; -&lt;span class=&quot;nv&quot;&gt;$commands_number&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/\t//'&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMP_WORDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[1]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[0]/%\ */&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;COMPREPLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$number&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else
    for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;!suggestions[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
      &lt;/span&gt;suggestions[&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'%*s'&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;-&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$COLUMNS&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;done

    &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMPREPLY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;complete&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; _dothis_completions dothis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Source and test:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;DOTHIS_COMPLETION_COMMANDS_NUMBER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;5
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dothis &amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;
505 clear
506 &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ./dothis-completion.bash
507 dothis clear
508 clear
509 &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;DOTHIS_COMPLETION_COMMANDS_NUMBER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;useful-links&quot;&gt;Useful links&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/git/git/blob/master/contrib/completion/git-completion.bash&quot;&gt;Git’s completion script&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/iridakos/goto/blob/master/goto.sh&quot;&gt;Bash completion for &lt;code class=&quot;highlighter-rouge&quot;&gt;goto&lt;/code&gt;, one of my shell scripts&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/Programmable-Completion.html#Programmable-Completion&quot;&gt;Bash Reference Manual: Programmable Completion&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/Programmable-Completion-Builtins.html#Programmable-Completion-Builtins&quot;&gt;Bash Reference Manual: Programmable Completion Builtins&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/A-Programmable-Completion-Example.html#A-Programmable-Completion-Example&quot;&gt;Bash Reference Manual: A Programmable Completion Example&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/Bash-Variables.html#Bash-Variables&quot;&gt;Bash Reference Manual: Bash Variables&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;code-and-comments&quot;&gt;Code and Comments&lt;/h2&gt;

&lt;p&gt;You can find the &lt;strong&gt;code of this tutorial&lt;/strong&gt; on &lt;a href=&quot;https://github.com/iridakos/bash-completion-tutorial&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For &lt;strong&gt;feedback, comments, typos etc&lt;/strong&gt;. please open an &lt;a href=&quot;https://github.com/iridakos/bash-completion-tutorial/issues&quot;&gt;issue&lt;/a&gt; in the repository.&lt;/p&gt;

&lt;h3 id=&quot;long-post-cat-photo&quot;&gt;Long post, cat photo&lt;/h3&gt;

&lt;p&gt;Let me introduce you to my debugger.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/bash-completion/cat.jpg&quot; alt=&quot;My debugger&quot; /&gt;&lt;/p&gt;

&lt;p&gt;That’s all folks!&lt;/p&gt;
</description>
        <pubDate>Fri, 15 Nov 2019 14:00:00 +0200</pubDate>
        <link>https://iridakos.com/el/programming/2019/11/15/bash-programmable-completion-tutorial</link>
        <guid isPermaLink="true">https://iridakos.com/el/programming/2019/11/15/bash-programmable-completion-tutorial</guid>
        
        <category>bash</category>
        
        <category>linux</category>
        
        <category>programmable-completion</category>
        
        <category>opensource</category>
        
        <category>tutorial</category>
        
        <category>how-to</category>
        
        <category>featured</category>
        
        <category>δημοφιλή</category>
        
        <category>γραμμή εντολών</category>
        
        <category>ανοιχτό λογισμικό</category>
        
        <category>βοήθημα</category>
        
        
        <category>programming</category>
        
      </item>
    
      <item>
        <title>Γράφοντας καλύτερα email</title>
        <description>&lt;p&gt;Η &lt;strong&gt;Ηλεκτρονική Αλληλογραφία (email)&lt;/strong&gt; δεν είναι η αγαπημένη μου αλλά αφού δεν μπορώ να την αποφύγω, προσπαθώ να συντάξω τα μηνύματα με τέτοιο τρόπο που νομίζω ότι διευκολύνει και εμένα αλλά και τον παραλήπτη:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;να εντοπίσει γρήγορα και εύκολα &lt;strong&gt;τι προσπαθώ να επικοινωνήσω&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;να αποφευγχθούν παρανοήσεις&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;να γλιτώσουμε χρόνο&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Παραθέτω κάποιες συμβουλές. Δεν ισχύουν για όλα τα email, παρέχω &lt;code class=&quot;highlighter-rouge&quot;&gt;πριν&lt;/code&gt; και &lt;code class=&quot;highlighter-rouge&quot;&gt;μετά&lt;/code&gt; παραδείγματα για να περιγράψω καλύτερα την κάθε περίπτωση.&lt;/p&gt;

&lt;h2 id=&quot;έμφαση-τμημάτων-με-έντονη-γραμματοσειρά-ή-υπογραμμιση&quot;&gt;Έμφαση τμημάτων με έντονη γραμματοσειρά ή υπογραμμιση&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Δίνοντας έμφαση&lt;/strong&gt; στα κατάλληλα τμήματα ενός μηνύματος, ειδικά αν είναι μαρκοσκελές, βοηθάτε τους αναγνώστες &lt;strong&gt;να πάρουν γρήγορα μια ιδέα&lt;/strong&gt; σχετικά με το τι αφορά το email και να εντοπίσουν εύκολα τα &lt;strong&gt;σημαντικά στοιχεία&lt;/strong&gt; ξαναδιαβάζοντας το μήνυμα στο μέλλον.&lt;/p&gt;

&lt;h3 id=&quot;παράδειγμα&quot;&gt;Παράδειγμα&lt;/h3&gt;

&lt;h4 id=&quot;πριν&quot;&gt;Πριν&lt;/h4&gt;

&lt;div class=&quot;border p-2 no-overflow&quot;&gt;
&lt;pre&gt;Καλησπέρα σε όλους,

Παρατήρησα πολλά logs σχετικά με ...μπλα μπλα... τις τελευταίες μέρες και δε νομίζω να είναι φυσιολογικό. Πιστεύω ότι το πρόβλημα είναι στην ανανέωση του gem ...μπλα μπλα...

Άνοιξα ένα issue περιγράφοντας την περίπτωση στο Redmine (&amp;#35;455) στην τρέχουσα έκδοση.
Αν επιθυμείτε αλλάξτε την προτεραιότητα ..μπλα μπλα...

Ευχαριστώ,
Λάζαρος
&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;μετά&quot;&gt;Μετά&lt;/h4&gt;

&lt;div class=&quot;border p-2 no-overflow&quot;&gt;
&lt;pre&gt;Καλησπέρα σε όλους,

Παρατήρησα &lt;strong&gt;πολλά logs σχετικά με ...μπλα μπλα... τις τελευταίες μέρες&lt;/strong&gt; και δε νομίζω να είναι φυσιολογικό. Πιστεύω ότι το πρόβλημα είναι στην ανανέωση του gem ...μπλα μπλα...

Άνοιξα ένα issue περιγράφοντας την περίπτωση στο &lt;strong&gt;Redmine (&amp;#35;455)&lt;/strong&gt; στην τρέχουσα έκδοση.
Αν επιθυμείτε αλλάξτε την προτεραιότητα ..μπλα μπλα...

Ευχαριστώ,
Λάζαρος
&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;χρήση-συγκεκριμένων-ημερομηνιών-αντί-για-χτες-αύριο-κλπ&quot;&gt;Χρήση συγκεκριμένων ημερομηνιών αντί για &lt;code class=&quot;highlighter-rouge&quot;&gt;χτες&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;αύριο&lt;/code&gt; κ.λπ.&lt;/h2&gt;

&lt;p&gt;Τη στιγμή που στέλνετε ένα email δεν είναι και η στιγμή που θα διαβαστεί από τους παραλήπτες. &lt;strong&gt;Αποφύγετε την χρήση μόνο χρονικών λεκτικών&lt;/strong&gt; όπως &lt;code class=&quot;highlighter-rouge&quot;&gt;χτες&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;σήμερα&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;αύριο&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;δυο ώρες πριν&lt;/code&gt; κ.λπ. αλλά &lt;strong&gt;συμπεριλάβετε και την συγκεκριμένη ημερομηνία/ώρα&lt;/strong&gt; διαφορετικά είναι πιθανό είτε να δημιουργηθεί παρανόηση είτε να χρειαστεί οι παραλήπτες να κοιτάξουν την ημερομηνία/ώρα του μηνύματος για να υπολογίσουν τον χρόνο στον οποίο αναφέρεστε.&lt;/p&gt;

&lt;h3 id=&quot;παράδειγμα-1&quot;&gt;Παράδειγμα&lt;/h3&gt;

&lt;h4 id=&quot;πριν-1&quot;&gt;Πριν&lt;/h4&gt;

&lt;div class=&quot;p-2 border no-overflow&quot;&gt;
&lt;pre&gt;Αγαπητό QA,

Χτες ανεβάσαμε ένα fix για το λάθος &amp;#35;455 στο staging περιβάλλον και σκοπεύουμε να το ανεβάσουμε στην παραγωγή την επόμενη Δευτέρα αν μας δώσετε το πράσινο φως μέχρι άυριο - τέλος ημέρας.

Ευχαριστώ,
Λάζαρος&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;μετά-1&quot;&gt;Μετά&lt;/h4&gt;

&lt;div class=&quot;p-2 border no-overflow&quot;&gt;
&lt;pre&gt;Αγαπητό QA,

&lt;b&gt;Χτες&lt;/b&gt;, 25/06/2019 ανεβάσαμε ένα fix για το &lt;b&gt;λάθος &amp;#35;455 στο staging περιβάλλον&lt;/b&gt; και σκοπεύουμε να το ανεβάσουμε στην &lt;b&gt;παραγωγή την επόμενη Δευτέρα, 01/07/2019&lt;/b&gt; αν μας δώσετε το &lt;b&gt;πράσινο φως μέχρι αύριο 27/06/2019&lt;/b&gt; - τέλος ημέρας.

Ευχαριστώ,
Λάζαρος&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;χρήση-συνδέσμων-για-αναφορές&quot;&gt;Χρήση συνδέσμων για αναφορές&lt;/h2&gt;

&lt;p&gt;Χρησιμοποιήστε συνδέσμους όταν αναφέρεστε σε κάτι που δυνητικά θα απαιτήσει από τον παραλήπτη να το ψάξει σε κάποιο άλλο σύστημα.&lt;/p&gt;

&lt;p&gt;Η χρήση συνδέσμων έχει δύο πλεονεκτήματα:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Εξοικονόμηση χρόνου&lt;/li&gt;
  &lt;li&gt;Εξάλειψη ασαφών αναφορών&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;παράδειγμα-2&quot;&gt;Παράδειγμα&lt;/h3&gt;

&lt;h4 id=&quot;πριν-2&quot;&gt;Πριν&lt;/h4&gt;

&lt;div class=&quot;p-2 border no-overflow&quot;&gt;
&lt;pre&gt;Αγαπητή Φοίβη,

Δεν κατάλαβα τη διαδικασία που περιγράφεται στο issue με το λάθος στα logs. Ούτε το σχόλιο της Ίριδας ήταν ξεκάθαρο. Μπορείς να με βοηθήσεις;

Ευχαριστώ,
Λάζαρος&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;μετά-2&quot;&gt;Μετά&lt;/h4&gt;

&lt;div class=&quot;p-2 border no-overflow&quot;&gt;
&lt;pre&gt;Αγαπητή Φοίβη,

Δεν κατάλαβα τη διαδικασία που περιγράφεται στο issue με το λάθος στα logs (&lt;a href=&quot;#redmine453&quot;&gt;Redmine #453&lt;/a&gt;). &lt;a href=&quot;#redmine453-comment&quot;&gt;Ούτε αυτό το σχόλιο της Ίριδας&lt;/a&gt; ήταν ξεκάθαρο. Μπορείς να με βοηθήσεις;

Ευχαριστώ,
Λάζαρος&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;δομήστε-τα-μακροσκελή-μηνύματα&quot;&gt;Δομήστε τα μακροσκελή μηνύματα&lt;/h2&gt;

&lt;p&gt;Τα μεγάλα email σε γενικές γραμμές δεν είναι πολύ αποτελεσματικά και πολλά τμήματα τους είναι επιρρεπή στο να αγνοηθούν.&lt;/p&gt;

&lt;p&gt;Όταν πρέπει να συντάξω τέτοιου είδους μηνύματα, προσπαθώ να &lt;strong&gt;κατηγοριοποιήσω το κείμενο εννοιολογικά σε τμήματα χρησιμοποιώντας επικεφαλίδες και παραγράφους&lt;/strong&gt; επιτρέποντας στους αναγνώστες να τα εντοπίσουν με μια ματιά.&lt;/p&gt;

&lt;h3 id=&quot;παράδειγμα-3&quot;&gt;Παράδειγμα&lt;/h3&gt;

&lt;h4 id=&quot;πριν-3&quot;&gt;Πριν&lt;/h4&gt;

&lt;div class=&quot;p-2 border no-overflow&quot;&gt;
  &lt;pre&gt;Αγαπητή ομάδα,

Την προηγούμενη εβδομάδα είχαμε ένα πρόβλημα με τα logs στην παραγωγή. Αναφέρομαι στο Redmine issue &amp;#35;453. Παρατηρήσαμε μια τεράστια αύξηση στα μηνύματα που καταγράφονται ... οδηγώντας σε καθυστερημένες αποκρίσεις λόγω του ... Σε κάποιο σημείο ο server ξέμεινε από δίσκο και άρχισε να καταρρέει το σύμπαν ... Αρχίσαμε τη διερεύνηση για το τι μπορεί να συμβαίνει αμέσως και μετά από δύο μέρες καταφέραμε να αναπαράγουμε το πρόβλημα και στο staging περιβάλλον. Το πρόβλημα ήταν η χρήση μιας εξωτερικής βιβλιοθήκης που είχε ένα bug που ... Αφαιρέσαμε την βιβλιοθήκη και το λάθος έπαψε να εμφανίζεται στο staging περιβάλλον. Η buggy βιβλιοθήκη ήταν ... Ανεβάσαμε ένα fix στες και όλα μοιάζουν να έχουμε επιστρέψει στο φυσιολογικό. Επίσης προσθέσαμε κάποια script που θα μας ενημερώσουν άμεσα αν κάτι αντίστοιχο αρχίζει να συμβαίνει ξανά στο μέλλον.

Ευχαριστώ για το χρόνο σας,
Λάζαρος&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;μετά-3&quot;&gt;Μετά&lt;/h4&gt;

&lt;div class=&quot;p-2 border no-overflow&quot;&gt;
  &lt;pre&gt;Αγαπητή ομάδα,

&lt;strong&gt;&lt;u&gt;Το πρόβλημα&lt;/u&gt;&lt;/strong&gt;
Την περασμένη εβδομάδα είχαμε ένα **πρόβλημα με τα logs στην παραγωγή**. Παρατηρήσαμε μια τεράστια αύξηση στα μηνύματα ...

&lt;strong&gt;&lt;u&gt;Συνέπειες&lt;/u&gt;&lt;/strong&gt;
Η αύξηση στα μηνύματα οδήγησε σε καθυστερημένες αποκρίσεις ... Σε κάποιο σημείο ο server **ξέμεινε από δίσκο και όλα άρχισα να καταρρέουν** ...

&lt;strong&gt;&lt;u&gt;Αιτία του προβλήματος&lt;/u&gt;&lt;/strong&gt;
Αρχίσαμε άμεσα τη διερεύνηση και καταφέραμε να αναπαράγουμε το πρόβλημα και στο staging περιβάλλον.
Το πρόβλημα ήταν η χρήση μιας **εξωτερικής βιβλιοθήκης** που είχε ένα bug ... Η βιβλιοθήκη ήταν η ...

&lt;strong&gt;&lt;u&gt;Ενέργειες που πραγματοποιήθηκαν&lt;/u&gt;&lt;/strong&gt;

1. &lt;strong&gt;Αφαιρέσαμε τη βιβλιοθήκη&lt;/strong&gt; και το λάθος δεν ήταν πια παρόν στο staging περιβάλλον.
2. Οι διαχειριστές &lt;strong&gt;κράτησαν backup των logs&lt;/strong&gt; και κατόπιν τα αφαίρεσαν ...
3. &lt;strong&gt;Ανεβάσαμε το fix στην παραγωγή&lt;/strong&gt; χτες, 26/06/2019.
4. Επίσης, &lt;strong&gt;προσθέσαμε κάποια scripts που θα μας ειδοποιήσουν εγκαίρως&lt;/strong&gt; σε περίπτωση που αντίστοιχο πρόβλημα αρχίσει να εμφανίζεται στο μέλλον.

&lt;strong&gt;&lt;u&gt;Τρέχουσα κατάσταση στην παραγωγή&lt;/u&gt;&lt;/strong&gt;
&lt;strong&gt;Ο server τρέχει κανονικά, όλα έχουν επιστρέψει στο φυσιολογικό.&lt;/strong&gt;

&lt;strong&gt;&lt;u&gt;Περισσότερες πληροφορίες&lt;/u&gt;&lt;/strong&gt;
&lt;a href=&quot;#redmine453&quot;&gt;Σχετικό Redmine issue &amp;#35;453&lt;/a&gt;
&lt;a href=&quot;#external-library&quot;&gt;Εξωτερική βιβλιοθήκη - Επίσημη αναφορά του bug&lt;/a&gt;

Ευχαριστώ για το χρόνο σας,
Λάζαρος&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;να-είστε-συγκεκριμένοιες-στο-τι-ζητάτε-από-ποιον&quot;&gt;Να είστε συγκεκριμένοι/ες στο τι ζητάτε από ποιον&lt;/h2&gt;

&lt;p&gt;Έχω δει πάρα πολλές φορές emails για τα οποία:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ο αποστολέας ήθελε &lt;strong&gt;κάτι&lt;/strong&gt; από &lt;strong&gt;κάποιον&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;οι παραλήπτες
    &lt;ul&gt;
      &lt;li&gt;δεν θεωρούσαν ότι ήταν αυτοί που πρέπει να παρέχουν το κάτι&lt;/li&gt;
      &lt;li&gt;κατάλαβαν το &lt;strong&gt;κάτι&lt;/strong&gt; σαν κάτι άλλο από αυτό που εννοούσε ο αποστολέας&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Προσπαθώ να είμαι πολύ συγκεκριμένος και να παρέχω λεπτομέρειες (όπου είναι δυνατόν) σχετικά με το τι χρειάζομαι και όταν υπάρχουν παραπάνω του ενός παραλήπτες, αναφέρομαι στον καθένα αποκλειστικά χρησιμοποιώντας το παπάκι: &lt;code class=&quot;highlighter-rouge&quot;&gt;@&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;παράδειγμα-4&quot;&gt;Παράδειγμα&lt;/h3&gt;

&lt;h4 id=&quot;πριν-4&quot;&gt;Πριν&lt;/h4&gt;

&lt;div class=&quot;p-2 border no-overflow&quot;&gt;
&lt;pre&gt;Αγαπητοί,

Έχω σπρώξει ένα commit που πιθανότατα λύνει το bug με τα logs στο staging. Δε θα είμαι εδώ αύριο οπότε μπορείτε να κάνετε review και να το ανεβάσετε αν είναι εντάξει;

Ευχαριστώ.
&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;μετά-4&quot;&gt;Μετά&lt;/h4&gt;

&lt;div class=&quot;p-2 border no-overflow mb-4&quot;&gt;
&lt;pre&gt;Αγαπητοί,

Έσπρωξα ένα &lt;strong&gt;&lt;a href=&quot;#git-commit-reference&quot;&gt;commit&lt;/a&gt; που πιθανότατα λύνει το bug &lt;a href=&quot;#redmine453&quot;&gt;(Redmine #453)&lt;/a&gt;&lt;/strong&gt; με τα logs στο staging περιβάλλον.

Εφόσον &lt;strong&gt;δε θα είμαι εδώ αύριο, 27/06/2019&lt;/strong&gt;, μπορείτε παρακαλώ:

&lt;strong&gt;&lt;u&gt;@καπετάνιος:&lt;/u&gt;&lt;/strong&gt; &lt;strong&gt;review&lt;/strong&gt; το &lt;a href=&quot;#git-commit-reference&quot;&gt;commit&lt;/a&gt;
&lt;strong&gt;&lt;u&gt;@qa:&lt;/u&gt;&lt;/strong&gt; &lt;strong&gt;να τρέξετε τη σουίτα&lt;/strong&gt; για να επαληθεύσετε το fix
&lt;strong&gt;&lt;u&gt;@devs:&lt;/u&gt;&lt;/strong&gt; προχωρήσετε &lt;strong&gt;το ανέβασμα του fix στην παραγωγή στις 28/06/2019&lt;/strong&gt; δεδομένου ότι πήραμε το OK από την QA ομάδα?

Ευχαριστώ,
Λάζαρος
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Αυτά, ευχαριστώ για την ανάγνωση,&lt;/p&gt;

&lt;p&gt;Λάζαρος&lt;/p&gt;

&lt;h2 id=&quot;υστερόγραφο&quot;&gt;Υστερόγραφο&lt;/h2&gt;

&lt;p&gt;Βρείτε συνημμένη φωτογραφία από τις γάτες μου.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/better-emails/irida-phoebe.png&quot; alt=&quot;Όταν ακούνε τη λέξη 'ηλεκτρική σκούπα'&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;alert alert-light&quot;&gt;
  &lt;div class=&quot;alert-heading&quot;&gt;&lt;i class=&quot;fa fa-comments&quot;&gt;&lt;/i&gt; Σχόλια&lt;/div&gt;

  Για σχόλια, feedback, λάθη κ.λπ. παρακαλώ Χρησιμοποιήστε αυτό το &lt;a class=&quot;alert-link&quot; href=&quot;https://github.com/iridakos/iridakos-posts/issues/4&quot;&gt;GitHub issue&lt;/a&gt;.

  &lt;hr /&gt;

  &lt;strong&gt;Ευχαριστώ!&lt;/strong&gt;
&lt;/div&gt;
</description>
        <pubDate>Mon, 11 Nov 2019 23:10:00 +0200</pubDate>
        <link>https://iridakos.com/el/programming/2019/11/11/composing-better-emails</link>
        <guid isPermaLink="true">https://iridakos.com/el/programming/2019/11/11/composing-better-emails</guid>
        
        <category>email</category>
        
        <category>επικοινωνία</category>
        
        <category>παραγωγικότητα</category>
        
        <category>how-to</category>
        
        <category>featured</category>
        
        <category>δημοφιλή</category>
        
        
        <category>programming</category>
        
      </item>
    
      <item>
        <title>Αποδιπλοποίηση των γραμμών ενός αρχείου διατηρώντας τη σειρά τους</title>
        <description>&lt;p&gt;Υποθέστε ότι έχετε ένα αρχείο κειμένου και θέλετε να αφαιρέσετε όλες τις διπλές γραμμές.&lt;/p&gt;

&lt;h2 id=&quot;tldr&quot;&gt;TL;DR&lt;/h2&gt;

&lt;p&gt;Για να αφαιρεθούν οι γραμμές &lt;strong&gt;διατηρώντας τη σειρά τους στο αρχείο&lt;/strong&gt; χρησιμοποιήστε:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'!visited[$0]++'&lt;/span&gt; your_file &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; deduplicated_file
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;πως-δουλεύει&quot;&gt;Πως δουλεύει&lt;/h2&gt;

&lt;p&gt;Το script διατηρεί έναν πίνακα συσχετισμών (associative array) με κλειδιά την κάθε μοναδική γραμμή του αρχείου και τιμές τον αριθμό των εμφανίσεων τους. Για κάθε γραμμή του αρχείου, αν οι εμφανίσεις της γραμμής είναι 0 τότε αυξάνονται κατά 1 και &lt;strong&gt;εκτυπώνεται η γραμμή&lt;/strong&gt;, διαφορετικά απλά αυξάνονται οι εμφανίσεις &lt;strong&gt;χωρίς να πραγματοποιείται εκτύπωση της γραμμής&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Δεν ήμουν εξοικειωμένος με την &lt;code class=&quot;highlighter-rouge&quot;&gt;awk&lt;/code&gt; και ήθελα να καταλάβω πως επιτυγχάνεται αυτή η λειτουργικότητα με ένα τόσο μικρawk script. Έκανα την έρευνά μου και ιδού τι συμβαίνει:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;το script της awk &lt;code class=&quot;highlighter-rouge&quot;&gt;!visited[$0]++&lt;/code&gt; εκτελείται &lt;strong&gt;για κάθε γραμμή&lt;/strong&gt; του αρχείου εισόδου&lt;/li&gt;
  &lt;li&gt;η &lt;code class=&quot;highlighter-rouge&quot;&gt;visited[]&lt;/code&gt; είναι μια μεταβλητή τύπου &lt;a href=&quot;http://kirste.userpage.fu-berlin.de/chemnet/use/info/gawk/gawk_12.html&quot;&gt;Πίνακα συσχετισμών (associative array)&lt;/a&gt; (δηλαδή &lt;a href=&quot;https://en.wikipedia.org/wiki/Associative_array&quot;&gt;Map&lt;/a&gt;). Δε χρειάζεται να την αρχικοποιήσουμε, η &lt;code class=&quot;highlighter-rouge&quot;&gt;awk&lt;/code&gt; θα το κάνει αυτό για μας την πρώτη φορά που θα την προσπελάσουμε.&lt;/li&gt;
  &lt;li&gt;η μεταβλητή &lt;code class=&quot;highlighter-rouge&quot;&gt;$0&lt;/code&gt; κρατά τα περιεχόμενα της γραμμής που βρίσκεται κάθε φορά υπό επεξεργασία&lt;/li&gt;
  &lt;li&gt;ο κώδικας &lt;code class=&quot;highlighter-rouge&quot;&gt;visited[$0]&lt;/code&gt; προσπελαύνει την τιμή που είναι αποθηκευμένη στον πίνακα συσχετισμών με κλειδί ίσο με &lt;code class=&quot;highlighter-rouge&quot;&gt;$0&lt;/code&gt; (που όπως είπαμε, είναι η υπό επεξεργασία γραμμή του αρχείου), δηλαδή τις εμφανίσεις (που εκχωρούμε παρακάτων)&lt;/li&gt;
  &lt;li&gt;ο τελεστής &lt;code class=&quot;highlighter-rouge&quot;&gt;!&lt;/code&gt; δημιουργεί την άρνηση της τιμής των εμφανίσεων:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.gnu.org/software/gawk/manual/html_node/Truth-Values.html&quot;&gt;Στην awk, οποιαδήποτε μη μηδενική αριθμητική τιμή ή οποιαδήποτε μη άδεια λεκτική τιμή θεωρείται αληθής - true&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://ftp.gnu.org/old-gnu/Manuals/gawk-3.0.3/html_chapter/gawk_8.html&quot;&gt;Εξ ορισμού, οι μεταβλητές αρχικοποιούνται σε κενά λεκτικά, τα οποία αν μετατραπούν σε αριθμό γίνονται μηδέν - 0&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;Έχοντας πει αυτά λοιπόν:
        &lt;ul&gt;
          &lt;li&gt;αν η εκτέλεση του &lt;code class=&quot;highlighter-rouge&quot;&gt;visited[$0]&lt;/code&gt; επιστρέψει αριθμό μεγαλύτερο του μηδενός, η άρνησή του θα ισούται με &lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;.&lt;/li&gt;
          &lt;li&gt;αν η εκτέλεση του &lt;code class=&quot;highlighter-rouge&quot;&gt;visited[$0]&lt;/code&gt; επιστρέψει αριθμό ίσο με το μηδέν ή το κενό λεκτικό, η άρνησή του θα ισούται με &lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;.&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ο τελεστής &lt;code class=&quot;highlighter-rouge&quot;&gt;++&lt;/code&gt; αυξάνει την τιμή της μεταβλητής (&lt;code class=&quot;highlighter-rouge&quot;&gt;visited[$0]&lt;/code&gt;) κατά ένα - 1.
    &lt;ul&gt;
      &lt;li&gt;Αν η τιμή είναι κενή, η &lt;code class=&quot;highlighter-rouge&quot;&gt;awk&lt;/code&gt; τη μετατρέπει σε αριθμό άρα σε μηδέν - 0 αυτόματα και κατόπιν την αυξάνει.&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Σημείωση:&lt;/strong&gt; η πράξη εκτελείται αφού προσπελάσουμε πρώτα την τιμή της μεταβλητής.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Συνοψίζοντας, ολόκληρη η έκφραση εκτιμάται ως:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;true&lt;/strong&gt; αν οι εμφανίσεις είναι 0 ή το κενό λεκτικό&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;false&lt;/strong&gt; αν οι εμφανίσεις είναι περισσότερες από μηδέν - 0&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Οι δηλώσεις (statements) στην &lt;strong&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;awk&lt;/code&gt;&lt;/strong&gt; αποτελούνται από ένα &lt;a href=&quot;http://kirste.userpage.fu-berlin.de/chemnet/use/info/gawk/gawk_9.html&quot;&gt;&lt;strong&gt;μοτίβο (pattern) ή έκφραση (expression)&lt;/strong&gt; και μια &lt;strong&gt;συσχετισμένη ενέργεια (associated action)&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;language-awk highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pattern&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;expression&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Αν το μοτίβο/έκφραση επιτύχει τότε εκτελείται η συσχετισμένη ενέργεια&lt;/strong&gt;. Αν δεν δηλώσουμε την συσχετισμένη ενέργεια, η &lt;code class=&quot;highlighter-rouge&quot;&gt;awk&lt;/code&gt; εξ ορισμού θα εκτυπώσει (&lt;code class=&quot;highlighter-rouge&quot;&gt;print&lt;/code&gt;) τα δεδομένα εισόδου.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;An omitted action is equivalent to &lt;code class=&quot;highlighter-rouge&quot;&gt;{ print $0 }&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Το script μας αποτελείται από μια &lt;code class=&quot;highlighter-rouge&quot;&gt;awk&lt;/code&gt; δήλωση με μία έκφραση, παραλείποντας την συσχετισμένη ενέργεια.
Οπότε αυτό:&lt;/p&gt;

&lt;div class=&quot;language-awk highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;visited&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;your_file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deduplicated_file&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;είναι ισοδύναμο με αυτό:&lt;/p&gt;

&lt;div class=&quot;language-awk highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;visited&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;your_file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deduplicated_file&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Για κάθε γραμμή του αρχείου, αν η έκφραση επιτύχει τότε η γραμμή εκτυπώνεται στην έξοδο (output). Διαφορετικά, η συσχετισμένη ενέργεια δεν εκτελείται, τίποτα δεν εκτυπώνεται.&lt;/p&gt;

&lt;h2 id=&quot;γιατί-να-μη-χρησιμοποιήσω-την-εντολή-uniq&quot;&gt;Γιατί να μη χρησιμοποιήσω την εντολή &lt;code class=&quot;highlighter-rouge&quot;&gt;uniq&lt;/code&gt;;&lt;/h2&gt;

&lt;p&gt;Η εντολή &lt;code class=&quot;highlighter-rouge&quot;&gt;uniq&lt;/code&gt; αφαιρεί μόνο τις &lt;strong&gt;γειτονικές διπλές γραμμές&lt;/strong&gt;. Επίδειξη:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;test.txt
A
A
A
B
B
B
A
A
C
C
C
B
B
A
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uniq&lt;/span&gt; &amp;lt; test.txt
A
B
A
C
B
A
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;άλλες-προσεγγίσεις&quot;&gt;Άλλες προσεγγίσεις&lt;/h2&gt;

&lt;h3&gt;Χρησιμοποιώντας την εντολή &lt;code&gt;sort&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Μπορούμε να χρησιμοποιήσουμε την παρακάτω &lt;a href=&quot;http://man7.org/linux/man-pages/man1/sort.1.html&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sort&lt;/code&gt;&lt;/a&gt; εντολή για να αφαιρέσουμε τις διπλές γραμμές αλλά &lt;strong&gt;η σειρά των γραμμών δεν διατηρείται&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; your_file &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; sorted_deduplicated_file
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3&gt;Χρησιμοποιώντας τις εντολές &lt;code&gt;cat&lt;/code&gt;, &lt;code&gt;sort&lt;/code&gt; και &lt;code&gt;cut&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Στην προηγούμενη προσέγγιση θα παραγόταν ένα αποδιπλοποιημένο αρχείο οι γραμμές του οποίου θα ήταν ταξινομημένες βάσει του περιεχομένου τους. &lt;a href=&quot;https://stackoverflow.com/a/20639730/2292448&quot;&gt;Χρησιμοποιώντας σωληνώσεις με ένα σύνολο εντολών&lt;/a&gt; μπορούμε να διατηρήσουμε την αρχική σειρά των γραμμών:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; your_file | &lt;span class=&quot;nb&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-uk2&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-nk1&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f2-&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;πως-λειτουργεί&quot;&gt;Πως λειτουργεί&lt;/h4&gt;

&lt;p&gt;Υποθέστε ότι έχουμε το ακόλουθο αρχείο κειμένου:&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;abc
ghi
abc
def
xyz
def
ghi
klm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Η εντολή &lt;strong&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cat -n test.txt&lt;/code&gt;&lt;/strong&gt; τοποθετεί τον αριθμό της θέσης κάθε σειράς στην αρχή της.&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1	abc
2	ghi
3	abc
4	def
5	xyz
6	def
7	ghi
8	klm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Η εντολή &lt;strong&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sort -uk2&lt;/code&gt;&lt;/strong&gt; ταξινομεί τις γραμμές βάσει της δεύτερης στήλης (επιλογή &lt;code class=&quot;highlighter-rouge&quot;&gt;k2&lt;/code&gt;) και κρατά μόνο την πρώτη εμφάνιση των γραμμών που έχουν την ίδια τιμή στη δεύτερη στήλη (επιλογή &lt;code class=&quot;highlighter-rouge&quot;&gt;u&lt;/code&gt;)&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1	abc
4	def
2	ghi
8	klm
5	xyz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Η εντολή &lt;strong&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sort -nk1&lt;/code&gt;&lt;/strong&gt; ταξινομεί τις γραμμές βάσει της πρώτης στήλης (επιλογή &lt;code class=&quot;highlighter-rouge&quot;&gt;k1&lt;/code&gt;) αντιμετωπίζοντας την τιμή της στήλης ως αριθμό (επιλογή &lt;code class=&quot;highlighter-rouge&quot;&gt;n&lt;/code&gt;)&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1	abc
2	ghi
4	def
5	xyz
8	klm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Τέλος, η εντολή &lt;strong&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cut -f2-&lt;/code&gt;&lt;/strong&gt; εκτυπώνει κάθε γραμμή ξεκινώντας από τη δεύτερη στήλη και φτάνοντας ως το τέλος της (επιλογή &lt;code class=&quot;highlighter-rouge&quot;&gt;-f2-&lt;/code&gt;: &lt;em&gt;προσέξτε την παύλα &lt;code class=&quot;highlighter-rouge&quot;&gt;-&lt;/code&gt; στο τέλος που δηλώνει να συμπεριληφθεί το υπόλοιπο της γραμμής&lt;/em&gt;)&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;abc
ghi
def
xyz
klm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.gnu.org/software/gawk/manual/html_node/&quot;&gt;The GNU Awk User’s Guide
&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://kirste.userpage.fu-berlin.de/chemnet/use/info/gawk/gawk_12.html&quot;&gt;Arrays in Awk&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.gnu.org/software/gawk/manual/html_node/Truth-Values.html&quot;&gt;Awk - Truth values&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ftp.gnu.org/old-gnu/Manuals/gawk-3.0.3/html_chapter/gawk_8.html&quot;&gt;Awk expressions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/1444406/how-can-i-delete-duplicate-lines-in-a-file-in-unix&quot;&gt;How can I delete duplicate lines in a file in Unix?
&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/11532157/remove-duplicate-lines-without-sorting&quot;&gt;Remove duplicate lines without sorting [duplicate]&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/159695/how-does-awk-a0-work/159734#159734&quot;&gt;How does awk ‘!a[$0]++’ work?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Αυτά. Να μια γάτα.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/remove-duplicates/duplicate-cat.jpg&quot; alt=&quot;duplicate cat&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;alert alert-light&quot;&gt;
  &lt;div class=&quot;alert-heading&quot;&gt;&lt;i class=&quot;fa fa-comments&quot;&gt;&lt;/i&gt; Σχόλια&lt;/div&gt;

  Για σχόλια, feedback, λάθη κ.λπ. παρακαλώ χρησιμοποιήστε αυτό το &lt;a class=&quot;alert-link&quot; href=&quot;https://github.com/iridakos/iridakos-posts/issues/3&quot;&gt;GitHub issue&lt;/a&gt;.

  &lt;hr /&gt;

  &lt;strong&gt;Ευχαριστώ!&lt;/strong&gt;
&lt;/div&gt;
</description>
        <pubDate>Mon, 11 Nov 2019 23:05:00 +0200</pubDate>
        <link>https://iridakos.com/el/programming/2019/11/11/remove-duplicate-lines-preserving-order-linux</link>
        <guid isPermaLink="true">https://iridakos.com/el/programming/2019/11/11/remove-duplicate-lines-preserving-order-linux</guid>
        
        <category>linux</category>
        
        <category>bash</category>
        
        <category>scripts</category>
        
        <category>file</category>
        
        <category>awk</category>
        
        <category>how-to</category>
        
        <category>featured</category>
        
        <category>δημοφιλή</category>
        
        
        <category>programming</category>
        
      </item>
    
      <item>
        <title>Καναπές</title>
        <description>&lt;p&gt;12 χρόνια μαζί.&lt;/p&gt;

&lt;p&gt;Όποτε γυρίζω σπίτι και κάθομαι στον καναπέ, πηδάει πάνω μου και αρχίζει να γλύφει τη μύτη και τα φρύδια.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/hanging-out/post.jpg&quot; alt=&quot;Hugging Irida&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Κάθεται εκεί μέχρι να συνειδητοποιήσει ότι θα μπορούσα να την ταίσω αντί να χαλαρώνω.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/hanging-out/where-s-the-food.png&quot; alt=&quot;Where's the food&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sat, 09 Nov 2019 23:30:00 +0200</pubDate>
        <link>https://iridakos.com/el/cats/2019/11/09/hug-the-cat</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/11/09/hug-the-cat</guid>
        
        <category>photo</category>
        
        <category>cat</category>
        
        <category>irida</category>
        
        <category>hanging-out</category>
        
        
        <category>cats</category>
        
      </item>
    
      <item>
        <title>Two step authentication</title>
        <description>&lt;p&gt;Υπάρχουν δύο γατοκρέβατα, τόσες καρέκλες και καναπές.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;“Θα κάτσω εδώ”.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/two-step-authentication/post.png&quot; alt=&quot;Two step authentication&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sat, 09 Nov 2019 23:20:00 +0200</pubDate>
        <link>https://iridakos.com/el/cats/2019/11/09/two-step-authentication</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/11/09/two-step-authentication</guid>
        
        <category>photo</category>
        
        <category>cat</category>
        
        <category>cats</category>
        
        <category>two step authentication</category>
        
        <category>humor</category>
        
        <category>ubuntu</category>
        
        
        <category>cats</category>
        
      </item>
    
      <item>
        <title>Ζωγραφίζοντας βουνά με τον Μπομπ Ρος</title>
        <description>&lt;p&gt;Αφού ζωγράφισα το &lt;a href=&quot;/el/painting/2019/10/11/meadow&quot;&gt;λιβάδι με ακρυλικά χρώματα&lt;/a&gt;, αγόρασα χρώματα λαδιού που είναι αυτά που χρησιμοποιεί και ο Μπομπ Ρος στην εκπομπή “Η χαρά της ζωγραφικής”.
Αυτή τη φορά ακολούθησα το &lt;a href=&quot;https://www.youtube.com/watch?v=kasGRkfkiPM&quot;&gt;επεισόδιο 10&lt;/a&gt; της 13ης σεζόν της εκπομπής, με το όνομα &lt;strong&gt;“Mountain Summit”&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Έμεινα ικανοποιημένος από το αποτέλεσμα αλλά όντας αρχάριος, αντιμετώπισα πάρα πολλές δυσκολίες και ο πίνακας έχει καμπόσα λάθη.&lt;/p&gt;

&lt;p&gt;Να.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/paintings/mountains/painting.jpg&quot; alt=&quot;Βουνά - Πίνακας&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;γεγονότα&quot;&gt;Γεγονότα&lt;/h2&gt;

&lt;p&gt;Χρησιμοποίησα&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;χρώματα λαδιού&lt;/li&gt;
  &lt;li&gt;την τεχνική wet-on-wet (που χρησιμοποιεί και ο Μπομπ)&lt;/li&gt;
  &lt;li&gt;κανβά με διαστάσεις 50x80&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;δυσκολίες&quot;&gt;Δυσκολίες&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Τα πινέλα μου διέφεραν από αυτά του επεισοδίου (τόσο σε μέγεθος όσο και σε υλικό) και η μπογιά δεν εφάρμοζε όπως ήθελα (θα ψάξω να βρω συμβουλές σχετικά με την αγορά εξοπλισμού για χρώματα λαδιού)&lt;/li&gt;
  &lt;li&gt;Δε βρήκα όλους τους κωδικούς χρωμάτων που αναφέρονται στο επεισόδιο και χρειάστηκε να αναμείξω τα δικά μου πολλές φορές για να βγει κάτι παρόμοιο με το επιθυμητό&lt;/li&gt;
  &lt;li&gt;Δυσκολεύτηκα απίστευτα να φτιάξω τους θάμνους. Ακόμα δεν είμαι σίγουρος στο τι έφταιξε αλλά μάλλον είναι συνδυασμός των παρακάτων:
    &lt;ul&gt;
      &lt;li&gt;άκυρα πινέλα&lt;/li&gt;
      &lt;li&gt;πολύ πηχτή μπογιά (σύμφωνα με τον Μπομπ Ρος, η λεπτή μπογιά κολλά πάνω στην πηχτή)&lt;/li&gt;
      &lt;li&gt;λανθασμένες κινήσεις από μέρους μου (πιθανότατα λιγότερη/περισσότερη πίεση στο πινέλο)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Τα βουνά, παρόλο που δείχνουν ωραία, ήταν πολύ δύσκολα να δημιουργηθούν με το palette knife. Αυτό σίγουρα έχει να κάνει με εξάσκηση.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;λάθη&quot;&gt;Λάθη&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Το ψηλότερο βουνό έχει μια αφύσικη καμπύλη στο κάτω τμήμα του που δε βγάζει νόημα.&lt;/li&gt;
  &lt;li&gt;Η αριστερή πλευρά των βουνών τελειώνει κάπου στον αέρα πίσω από τα δέντρα χωρίς λογική εξήγηση (στο επεισόδιο καλύπτεται όλη η αριστερή πλευρά με δέντρα)&lt;/li&gt;
  &lt;li&gt;Το δρομάκι στο δεξί κάτω τμήμα του πίνακα είναι μια αποτυχία από μόνο του. Αν δεν καταλαβαίνετε σε τι αναφέρομαι (δε φταίτε), μιλάω για εκείνον τον μαύρο και γκρι καταρράκτη που ξεκινά στη ρίζα του δέντρου. Ναι, αυτό υποτίθεται ότι είναι δρομάκι στο δάσος.&lt;/li&gt;
  &lt;li&gt;Στην ίδια περιοχή του πίνακα, οι θάμνοι δεν ήθελαν να σχηματιστούν. Καθάρισα και ξαναζωγράφισα την ίδια περιοχή 3 φορές.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;πηγές&quot;&gt;Πηγές&lt;/h2&gt;

&lt;dl&gt;
  &lt;dt&gt;
    Bob Ross - Mountain Summit (Σεζόν 13 Επεισόδιο 10)
  &lt;/dt&gt;

  &lt;dd&gt;
    &lt;a href=&quot;https://www.youtube.com/watch?v=kasGRkfkiPM&quot;&gt;https://www.youtube.com/watch?v=kasGRkfkiPM&lt;/a&gt;
  &lt;/dd&gt;

  &lt;dt&gt;
    Bob Ross - Final Reflections (Σεζόν 1 Επεισόδιο 13)
    &lt;br /&gt;
    &lt;small&gt;Ένα πολύ σημαντικό επεισόδιο καθώς περιέχει ερωτήσεις-απαντήσεις σχετικά με το τι μπορεί να μην πάει καλά ζωγραφίζοντας (π.χ. γιατί δεν κολλάνε τα χρώματα στον πίνακα κ.λπ.).&lt;/small&gt;
  &lt;/dt&gt;

  &lt;dd&gt;
    &lt;a href=&quot;https://www.youtube.com/watch?v=IEQWfszfRlA&quot;&gt;https://www.youtube.com/watch?v=IEQWfszfRlA&lt;/a&gt;
  &lt;/dd&gt;
&lt;/dl&gt;
</description>
        <pubDate>Mon, 14 Oct 2019 17:00:00 +0300</pubDate>
        <link>https://iridakos.com/el/painting/2019/10/14/mountains</link>
        <guid isPermaLink="true">https://iridakos.com/el/painting/2019/10/14/mountains</guid>
        
        <category>painting</category>
        
        <category>ζωγραφική</category>
        
        <category>Bob Ross</category>
        
        <category>Μπομπ Ρος</category>
        
        <category>mountains</category>
        
        <category>βουνά</category>
        
        
        <category>painting</category>
        
      </item>
    
      <item>
        <title>Ζωγραφίζοντας λιβάδια με τον Μπομπ Ρος</title>
        <description>&lt;p&gt;Πάντα μου άρεσε η ζωγραφική αλλά δεν αφιέρωσα τον χρόνο που απαιτείται για αυτό το χόμπι. Ζωγράφιζα μια στα 2 ή περισσότερα χρόνια με απογοητευτικά αποτελέσματα.
Πριν μερικές μέρες προσπάθησα να φτιάξω έναν &lt;a href=&quot;/painting/2019/10/07/drawing-my-cat&quot;&gt;πίνακα της γάτας μου&lt;/a&gt; και μου άρεσε και η διαδικασία και το αποτέλεσμα.&lt;/p&gt;

&lt;p&gt;Αποφάσισα να το κυνηγήσω και χτες ακολούθησα ένα επεισόδιο από την εκπομπή του Μπομπ Ρος “Η χαρά της ζωγραφικής” (τα περισσότερα επεισόδια, αν όχι όλα, είναι διαθέσιμα στο &lt;a href=&quot;https://www.youtube.com/user/BobRossInc/videos&quot;&gt;Youtube&lt;/a&gt;).
Το αποτέλεσμα με εξέπληξε αν και δεν είναι ούτε χωρίς ατέλειες αλλά ούτε και μοιάζει με αυτό που έφτιαξε ο Μπομπ στο επεισόδιο.&lt;/p&gt;

&lt;p&gt;Να.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/paintings/meadow/painting.jpg&quot; alt=&quot;Λιβάδι - Πίνακας&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ήταν πραγματικά πολύ ωραία εμπειρία, καθ’όλη τη διάρκεια άκουγα μερικά από τα αγαπημένα μου κομμάτια (όλα για να είμαι ειλικρινής, μου πήρε 5 ώρες να τελειώσω το επεισόδιο των 25 λεπτών). Ήμουν πολύ απορροφημένος και χαλαρός αφήνοντας όλες τις άλλες σκέψεις μακρύα, ούτε καν συνειδητοποίησα πόση ώρα πέρασε.&lt;/p&gt;

&lt;h2 id=&quot;γεγονότα&quot;&gt;Γεγονότα&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Ακολούθησα το επεισόδιο με τίτλο &lt;a href=&quot;https://www.youtube.com/watch?v=87MMbN1bQCs&quot;&gt;“Meadow Stream”&lt;/a&gt; που είναι το &lt;strong&gt;13ο από τι σεζόν 5&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Χρησιμοποίησα ακρυλικά χρώματα αντί χρωμάτων λαδιού που χρησιμοποιούνται στο επεισόδιο.&lt;/li&gt;
  &lt;li&gt;Παρέλειψα το ποτάμι κάτω δεξιά γιατί δεν ήμουν αρκετά θαρραλέος, νόμιζα ότι θα καταστρέψω τον πίνακα&lt;/li&gt;
  &lt;li&gt;Τα σύννεφα είναι “χαρούμενα μικρά ατυχήματα”, δεν έχω απάντηση αν μου ζητήσετε να σας πω πως τα έφτιαξα. Δεν θα έπρεπε να είναι έτσι αλλά κατέληξαν να είναι αξιοπρεπή.&lt;/li&gt;
  &lt;li&gt;Πρέπει να αγοράσω εξοπλισμό (angled palette knife και μερικά πινέλα) γιατί αυτός που είχα δεν μπορούσε να παράξει τα ίδια αποτελέσματα με αυτά στο βίντεο.&lt;/li&gt;
  &lt;li&gt;Αν μου ζητούσαν να φτιάξω ένα λιβάδι δε θα έφτιαχνα σε καμία περίπτωση το παρόν. Έχοντας έναν οδηγό, ειδικά αν είσαι αρχάριος/α όπως εγώ είναι μεγάλη υπόθεση και εξαιρετικά βοηθητικό. Πιστέυω ότι τέτοιου είδους εξάσκηση είναι ουσιώδης πριν τη δημιουργία αυθαίρετων εικόνων (τουλάχιστον για μένα).&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;πηγές&quot;&gt;Πηγές&lt;/h2&gt;

&lt;dl&gt;
  &lt;dt&gt;
    Μπομπ Ρος - Meadow Stream (Σεζόν 5 Επεισόδιο 13)
  &lt;/dt&gt;

  &lt;dd&gt;
    &lt;a href=&quot;https://www.youtube.com/watch?v=87MMbN1bQCs&quot;&gt;https://www.youtube.com/watch?v=87MMbN1bQCs&lt;/a&gt;
  &lt;/dd&gt;
&lt;/dl&gt;
</description>
        <pubDate>Fri, 11 Oct 2019 10:00:00 +0300</pubDate>
        <link>https://iridakos.com/el/painting/2019/10/11/meadow</link>
        <guid isPermaLink="true">https://iridakos.com/el/painting/2019/10/11/meadow</guid>
        
        <category>painting</category>
        
        <category>ζωγραφική</category>
        
        <category>Bob Ross</category>
        
        <category>Μπομπ Ρος</category>
        
        <category>meadow</category>
        
        <category>λιβάδι</category>
        
        
        <category>painting</category>
        
      </item>
    
      <item>
        <title>Ζωγραφίζοντας τη γάτα μου</title>
        <description>&lt;p&gt;Το Σάββατο ήθελα να ζωγραφίσω και (πολύ πρωτότυπο) αποφάσισα να φτιάξω ένα πίνακα με την Ίριδα, τη γάτα μου.&lt;/p&gt;

&lt;p&gt;Να.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/drawing-my-cat/painting.jpg&quot; alt=&quot;Γάτα - Πίνακας&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Θα έβγαζα φωτογραφίες απεικονίζοντας την πρόοδο του πίνακα αλλά δεν ήταν εφικτό. Υπήρχαν μπογιές παντού: στα χέρια, στα ρούχα, στη γάτα, στο τραπέζι που είχα τον πίνακα και στο πάτωμα επίσης. Ό,τι έπιανα γινόταν μπλε, καφέ ή άσπρο.&lt;/p&gt;

&lt;p&gt;Χρησιμοποίησα ένα σετ ζωγραφικής που μου φέρανε δώρο και που είχε πολλά πράγματα μεσα. Σε κάποια φάση ανακάτεψα ακρυλικά χρώματα με νερομπογιές και μπογιές λαδιού γιατί μοιάζανε και το συνειδητοποίησα αφού εμφανίστηκαν φυσαλίδες. Το θύμα ήταν ο ουρανός στο παράθυρο. Προσπάθησα να τις αφαιρέσω αλλά μετά η νέα μπογιά δεν έπιανε σωστά. Είμαι περίεργος να δω αν ο ουρανός θα συνεχίσει να δείχνει έτσι καθώς θα περνάνε οι μέρες.&lt;/p&gt;

&lt;p&gt;Δεδομένου του αποτελέσματος, είναι προφανές ότι έιμαι αρχάριος και μου λείπουν ακόμα και τα βασικά. Δεν έχω τεχνική. Ζωγραφίζω πολύ σπάνια αλλά αυτή τη φορά το απήλαυσα (πσσσς) πραγματικά και ακόμα κι αν η Ίριδα (η γάτα μου) δεν μοιάζει καθόλου με το πλάσμα του πίνακα, τουλάχιστον μοιάζει με γάτα και είναι παρουσίασιμο σε σχέση με άλλες μου απόπειρες.&lt;/p&gt;

&lt;p&gt;Αποφάσισα να αφιερώσω λίγο χρόνο για να μάθω τουλάχιστον τα βασικά, να δω κάποια βοηθήματα και φυσικά να εξασκηθώ σε απλά αντικείμενα πριν προχωρήσω σε περίπλοκες απεικονίσεις.&lt;/p&gt;

&lt;h2 id=&quot;υστερόγραφο&quot;&gt;Υστερόγραφο.&lt;/h2&gt;

&lt;p&gt;Σας επιτρέπω να γελάσατε με το γεγονός ότι έχω προσθέσει την ετικέτα &lt;code class=&quot;highlighter-rouge&quot;&gt;τέχνη&lt;/code&gt; σε αυτό το άρθρο.&lt;/p&gt;

&lt;p&gt;Η γάτα ήταν παρούσα σε όλη τη διαδικασία και στην πραγματικότητα ευθύνεται για τις όποιες (όλες) ατέλειες του πίνακα (κατηγορώντας τη γάτα). Φανταστείτε μια γάτα να έχει ένα κινούμενο πινέλο μπροστά της και να μη το αρπάζει - (never happens).
Αυτή είναι η Ίριδα στο τραπέζι της τέχνης σε προηγούμενη προσπάθεια.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/drawing-my-cat/irida-paint-companion.jpg&quot; alt=&quot;Picatso&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ενδιαφέρουσες-πηγές-ζωγραφικής&quot;&gt;Ενδιαφέρουσες πηγές ζωγραφικής&lt;/h2&gt;

&lt;dl&gt;
  &lt;dt&gt;
    &lt;a href=&quot;https://www.youtube.com/watch?v=VufykZdkmZ0&quot; target=&quot;_blank&quot;&gt;https://www.youtube.com/watch?v=VufykZdkmZ0&lt;/a&gt;
  &lt;/dt&gt;

  &lt;dd class=&quot;mb-4&quot;&gt;
    Ένα πολύ ωραίο βίντεο που δείχνει πως να ζωγραφίσεις μια γάτα (το είδα σήμερα, επίπεδο απογοήτευσης: 100%).
  &lt;/dd&gt;

  &lt;dt&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=oWuwxSJTyeQ&quot; target=&quot;_blank&quot;&gt;https://www.youtube.com/watch?v=oWuwxSJTyeQ&lt;/a&gt;&lt;/dt&gt;

  &lt;dd&gt;
    Ένα άλλο πολύ όμορφο βίντεο που δείχνει πως να δημιουργήσετε εύκολα ένα πολύ ωραίο τοπίο με σχετικά απλά βήματα.
  &lt;/dd&gt;
&lt;/dl&gt;
</description>
        <pubDate>Mon, 07 Oct 2019 10:00:00 +0300</pubDate>
        <link>https://iridakos.com/el/painting/2019/10/07/drawing-my-cat</link>
        <guid isPermaLink="true">https://iridakos.com/el/painting/2019/10/07/drawing-my-cat</guid>
        
        <category>ζωγραφική</category>
        
        <category>painting</category>
        
        <category>cats</category>
        
        <category>γάτες</category>
        
        <category>τέχνη</category>
        
        <category>πικάτσο</category>
        
        
      </item>
    
      <item>
        <title>Παρασκευή</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/another-friday</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/another-friday</guid>
        
        <category>friday</category>
        
        <category>Παρασκευή</category>
        
        
      </item>
    
      <item>
        <title>Pair programming</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/pair-programming</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/pair-programming</guid>
        
        <category>pair programming</category>
        
        
      </item>
    
      <item>
        <title>Δευτέρα. Πάλι.</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/monday-again</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/monday-again</guid>
        
        <category>monday</category>
        
        <category>Δευτέρα</category>
        
        <category>monday motivation</category>
        
        
      </item>
    
      <item>
        <title>Ηλεκτρική σκούπα</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/vacuum-cleaner</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/vacuum-cleaner</guid>
        
        
      </item>
    
      <item>
        <title>I'll be back</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/terminator</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/terminator</guid>
        
        
      </item>
    
      <item>
        <title>Δευτέρα</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/monday</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/monday</guid>
        
        <category>monday</category>
        
        <category>Δευτέρα</category>
        
        <category>monday motivation</category>
        
        
      </item>
    
      <item>
        <title>Καληνύχτα</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/goot-night</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/goot-night</guid>
        
        
      </item>
    
      <item>
        <title>Catwin Charles</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/catologist</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/catologist</guid>
        
        
      </item>
    
      <item>
        <title>Μπου</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/boo</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/boo</guid>
        
        
      </item>
    
      <item>
        <title>Γατηγήτρια</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/i-know-stuff</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/i-know-stuff</guid>
        
        
      </item>
    
      <item>
        <title>I don't like reggae - I love it</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/code-review-mode</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/code-review-mode</guid>
        
        
      </item>
    
      <item>
        <title>Ξαναφορτώνοντας τη σελίδα μετά από copy/paste CSS από stackoverflow</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/css-stackoveflow</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/css-stackoveflow</guid>
        
        
      </item>
    
      <item>
        <title>Όταν στέλνουν κώδικα στο κλαδί σου</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/push-on-my-branch</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/push-on-my-branch</guid>
        
        
      </item>
    
      <item>
        <title>Όταν βγαίνει pop up για Java update</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/java-update-popup</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/java-update-popup</guid>
        
        
      </item>
    
      <item>
        <title>Κόλλα πέντε</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/friday-releases</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/friday-releases</guid>
        
        
      </item>
    
      <item>
        <title>Διαβάζοντας regular expressions</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/regex</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/regex</guid>
        
        
      </item>
    
      <item>
        <title>Όταν πρέπει να υποστηρίξεις IE6</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/ie6</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/ie6</guid>
        
        
      </item>
    
      <item>
        <title>reCaptcha</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/recaptcha</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/recaptcha</guid>
        
        
      </item>
    
      <item>
        <title>Ruby</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/ruby-duck</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/ruby-duck</guid>
        
        
      </item>
    
      <item>
        <title>GitHub issues</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/github-issue</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/github-issue</guid>
        
        
      </item>
    
      <item>
        <title>RIP πουλόβερ</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/mutable-strings</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/mutable-strings</guid>
        
        
      </item>
    
      <item>
        <title>Ψιτ</title>
        <description>
</description>
        <pubDate>Tue, 01 Oct 2019 00:01:00 +0300</pubDate>
        <link>https://iridakos.com/el/cats/2019/10/01/code-comments</link>
        <guid isPermaLink="true">https://iridakos.com/el/cats/2019/10/01/code-comments</guid>
        
        
      </item>
    
  </channel>
</rss>
